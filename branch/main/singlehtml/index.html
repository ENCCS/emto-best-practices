<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EMTO workshop documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx_lesson.css" />
      <link rel="stylesheet" type="text/css" href="_static/term_role_formatting.css" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx_rtd_theme_ext_color_contrast.css" />
      <link rel="stylesheet" type="text/css" href="_static/tabs.css" />
      <link rel="stylesheet" type="text/css" href="_static/overrides.css" />

  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script src="_static/minipres.js"></script>
        <script src="_static/tabs.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script data-domain="enccs.github.io/emto-best-practices" defer="defer" src="https://plausible.io/js/script.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            EMTO workshop
              <img src="_static/ENCCS.jpg" class="logo" alt="Logo"/>
          </a>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">EMTO lectures</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-quickstart">quick setup for this workshop</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-00lectures">EMTO leture</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Hands-on examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-exercise/solutions/01/readme">exercise/01: 4 sites conventional fcc cell for Cu</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-exercise/solutions/02/readme">exercise/02: equilibrium volume for fcc Cu</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-exercise/solutions/03/readme">exercise/03: elastic constance calculation for fcc Cu</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-exercise/solutions/04/readme">exercise/04: Mixing enthalpy for bcc FeCrx alloy: FM</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-exercise/solutions/05/readme">exercise/05: Mixing enthalpy for bcc FeCrx alloy: PM</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-exercise/solutions/06/readme">exercise/06 diamond</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">EMTO workshop</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">EMTO workshop  documentation</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ENCCS/emto-best-practices/blob/main/content/index" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="emto-best-practices-workshop">
<h1>EMTO best practices workshop<a class="headerlink" href="#emto-best-practices-workshop" title="Link to this heading"></a></h1>
<div class="admonition-prerequisites prerequisites admonition" id="prerequisites-0">
<p class="admonition-title">Prerequisites</p>
<p>In case people would like to do some practices during the workshop with the installed emto excutables
you need to have access to one of these resource:</p>
<ul class="simple">
<li><p>Leonardo booster (CINECA, Italy).</p></li>
<li><p>Tetralith (NSC, NAISS, Sweden).</p></li>
</ul>
<p>All documented commands for the practices are tested on these clusters.</p>
</div>
<section id="who-is-the-course-for">
<span id="learner-personas"></span><h2>Who is the course for?<a class="headerlink" href="#who-is-the-course-for" title="Link to this heading"></a></h2>
<p>This course is for students, researchers, engineers who would like to get started with EMTO code using a HPC resource.
Basic knowledge of electronic structure theory and/or DFT calculations and using Linux will be required.</p>
</section>
<section id="schedule">
<h2>Schedule<a class="headerlink" href="#schedule" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Time</p></th>
<th class="head"><p>Content</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>10:00-10:30</p></td>
<td><p>Introduction to ENCCS</p></td>
</tr>
<tr class="row-odd"><td><p>10:30-12:00</p></td>
<td><p>EMTO lectures</p></td>
</tr>
<tr class="row-even"><td><p>12:00-13:00</p></td>
<td><p>Lunch break</p></td>
</tr>
<tr class="row-odd"><td><p>13:00-15:00</p></td>
<td><p>Hands-on session (guided)</p></td>
</tr>
<tr class="row-even"><td><p>15:00-17:00</p></td>
<td><p>Hands-on session</p></td>
</tr>
</tbody>
</table>
</section>
<section id="about-the-course">
<h2>About the course<a class="headerlink" href="#about-the-course" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<span id="document-quickstart"></span><section id="quick-setup-for-this-workshop">
<h3>quick setup for this workshop<a class="headerlink" href="#quick-setup-for-this-workshop" title="Link to this heading"></a></h3>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-VGV0cmFsaXRo" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-VGV0cmFsaXRo" name="VGV0cmFsaXRo" role="tab" tabindex="0">Tetralith</button><button aria-controls="panel-0-TGVvbmFyZG9fQm9vc3Rlcg==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-TGVvbmFyZG9fQm9vc3Rlcg==" name="TGVvbmFyZG9fQm9vc3Rlcg==" role="tab" tabindex="-1">Leonardo_Booster</button></div><div aria-labelledby="tab-0-VGV0cmFsaXRo" class="sphinx-tabs-panel group-tab" id="panel-0-VGV0cmFsaXRo" name="VGV0cmFsaXRo" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module<span class="w"> </span>use<span class="w"> </span>/proj/vasp-ws2024/emto_ws/emto/modules<span class="w"> </span>
ml<span class="w"> </span>emtoworkshop
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>usereservation<span class="w"> </span>emtoworkshop-2024-04-16
</pre></div>
</div>
<p>copy exercise to your own place (e.g home)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>-r<span class="w"> </span>/proj/vasp-ws2024/emto_ws/exercise<span class="w"> </span>~/
</pre></div>
</div>
</div><div aria-labelledby="tab-0-TGVvbmFyZG9fQm9vc3Rlcg==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-TGVvbmFyZG9fQm9vc3Rlcg==" name="TGVvbmFyZG9fQm9vc3Rlcg==" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module<span class="w"> </span>use<span class="w"> </span>/leonardo_scratch/fast/EUHPC_TD02_030/emto_ws2024/modules
ml<span class="w"> </span>emtoworkshop
</pre></div>
</div>
<p>copy exercise to your own place (e.g home)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>-r<span class="w"> </span>/leonardo_scratch/fast/EUHPC_TD02_030/emto_ws2024/exercise<span class="w"> </span>~/
</pre></div>
</div>
</div></div>
<p>optional settings:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">SQUEUE_FORMAT</span><span class="o">=</span><span class="s2">&quot;%.15i %.8u %.15a %.15j %.3t %.10M %.10L %.5D %.4C %.10Q %16R %P&quot;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">sinfo</span><span class="o">=</span><span class="s1">&#39;sinfo -o &quot;%10D %20F %P&quot;&#39;</span>
<span class="nb">alias</span><span class="w"> </span>all-myjobs<span class="o">=</span><span class="s1">&#39;squeue --me&#39;</span>
</pre></div>
</div>
</section>
<span id="document-00lectures"></span><section id="emto-leture">
<h3>EMTO leture<a class="headerlink" href="#emto-leture" title="Link to this heading"></a></h3>
<section id="the-emto-method-fundamentals-implementation-and-demonstration">
<h4>The EMTO Method Fundamentals, Implementation and Demonstration<a class="headerlink" href="#the-emto-method-fundamentals-implementation-and-demonstration" title="Link to this heading"></a></h4>
<p><a class="reference download internal" download="" href="_downloads/17df43361fca85c80555bf2f7bf564d9/ENCCS2024.04.16.pdf"><code class="xref download docutils literal notranslate"><span class="pre">by</span> <span class="pre">Prof.</span> <span class="pre">Levente</span> <span class="pre">Vitos</span></code></a></p>
</section>
<section id="basic-about-how-to-run-emto-code">
<h4>Basic About How to Run EMTO Code<a class="headerlink" href="#basic-about-how-to-run-emto-code" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>exe</p></th>
<th class="head"><p>function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bmdl</p></td>
<td><p>Calculates the Madelung potentials</p></td>
</tr>
<tr class="row-odd"><td><p>kstr</p></td>
<td><p>Computes the energy dependent slope matrix in real space.</p></td>
</tr>
<tr class="row-even"><td><p>shape</p></td>
<td><p>Computes the so called shape function, which transforms any integral over the unit cell into an integral over a sphere surrounding the unit cell.</p></td>
</tr>
<tr class="row-odd"><td><p>kgrn_cpa</p></td>
<td><p>Solves the actual self-consistent Kohn-Sham equations And calculate the Full charge density</p></td>
</tr>
<tr class="row-even"><td><p>kfcd_cpa</p></td>
<td><p>Evaluate the total energy functional from the full charge density generated by kgrn</p></td>
</tr>
</tbody>
</table>
<section id="running-dependence-of-emto-subprograms">
<h5>Running dependence of EMTO subprograms<a class="headerlink" href="#running-dependence-of-emto-subprograms" title="Link to this heading"></a></h5>
<a class="reference internal image-reference" href="_images/001.svg"><img alt="_images/001.svg" class="align-center" src="_images/001.svg" style="width: 400px;" /></a>
<p>Commands to run the code looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">exe</span> <span class="o">&lt;</span> <span class="nb">input</span>
</pre></div>
</div>
<section id="exercise-00">
<h6>exercise/00<a class="headerlink" href="#exercise-00" title="Link to this heading"></a></h6>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tree<span class="w"> </span><span class="m">00</span>
<span class="m">00</span>
├──<span class="w"> </span>bmdl
│<span class="w">   </span>└──<span class="w"> </span>fcc.dat
├──<span class="w"> </span>kfcd
│<span class="w">   </span>└──<span class="w"> </span>cu.dat
├──<span class="w"> </span>kgrn
│<span class="w">   </span>└──<span class="w"> </span>cu.dat
├──<span class="w"> </span>kstr
│<span class="w">   </span>└──<span class="w"> </span>fcc.dat
└──<span class="w"> </span>shape
<span class="w">    </span>└──<span class="w"> </span>fcc.dat

<span class="m">6</span><span class="w"> </span>directories,<span class="w"> </span><span class="m">5</span><span class="w"> </span>files
</pre></div>
</div>
<ul>
<li><p>please try to run these “dat” file as input for each “exe” inside its folder.
for example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="m">00</span>/bmdl
bmdl<span class="w"> </span>&lt;<span class="w"> </span>fcc.dat
</pre></div>
</div>
<p>there will be errors, so what should we do ?</p>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>mdl
bmdl<span class="w"> </span>&lt;<span class="w"> </span>fcc.dat
</pre></div>
</div>
</div>
</li>
</ul>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>EMTO input files have very strict format, an extra space may cause some problems.</p>
</div>
</section>
<section id="kstr">
<h6>KSTR<a class="headerlink" href="#kstr" title="Link to this heading"></a></h6>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">The input file (kstr/fcc.dat)</span><a class="headerlink" href="#id1" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">KSTR</span>      <span class="n">HP</span><span class="o">......=</span><span class="n">N</span>                               <span class="mi">22</span> <span class="n">Jan</span> <span class="mi">08</span>
<span class="hll"><span class="linenos"> 2</span><span class="n">JOBNAM</span><span class="o">...=</span><span class="n">fcc</span>        <span class="n">MSGL</span><span class="o">.=</span>  <span class="mi">0</span> <span class="n">MODE</span><span class="o">...=</span><span class="n">B</span> <span class="n">STORE</span><span class="o">..=</span><span class="n">Y</span> <span class="n">HIGH</span><span class="o">...=</span><span class="n">Y</span>
</span><span class="hll"><span class="linenos"> 3</span><span class="n">DIR001</span><span class="o">=</span><span class="n">smx</span><span class="o">/</span>
</span><span class="hll"><span class="linenos"> 4</span><span class="n">DIR006</span><span class="o">=./</span>
</span><span class="linenos"> 5</span><span class="n">Slope</span> <span class="n">matrices</span><span class="p">,</span> <span class="n">fcc</span> <span class="p">(</span><span class="n">spdf</span><span class="p">),</span> <span class="p">(</span><span class="n">kappa</span><span class="o">*</span><span class="n">w</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">=</span> <span class="mf">0.0</span>
<span class="linenos"> 6</span><span class="n">NL</span><span class="o">.....=</span> <span class="mi">4</span> <span class="n">NLH</span><span class="o">...=</span><span class="mi">11</span> <span class="n">NLW</span><span class="o">...=</span> <span class="mi">9</span> <span class="n">NDER</span><span class="o">..=</span> <span class="mi">6</span> <span class="n">ITRANS</span><span class="o">=</span> <span class="mi">3</span> <span class="n">NPRN</span><span class="o">..=</span> <span class="mi">0</span>
<span class="linenos"> 7</span><span class="p">(</span><span class="n">K</span><span class="o">*</span><span class="n">W</span><span class="p">)</span><span class="o">^</span><span class="mf">2.</span><span class="o">.=</span>  <span class="mf">0.000000</span> <span class="n">DMAX</span><span class="o">....=</span>    <span class="mf">1.7000</span> <span class="n">RWATS</span><span class="o">...=</span>      <span class="mf">0.10</span>
<span class="hll"><span class="linenos"> 8</span><span class="n">NQ3</span><span class="o">...=</span>  <span class="mi">1</span> <span class="n">LAT</span><span class="o">...=</span> <span class="mi">2</span> <span class="n">IPRIM</span><span class="o">.=</span> <span class="mi">0</span> <span class="n">NGHBP</span><span class="o">.=</span><span class="mi">13</span> <span class="n">NQR2</span><span class="o">..=</span> <span class="mi">0</span>
</span><span class="hll"><span class="linenos"> 9</span><span class="n">A</span><span class="o">........=</span> <span class="mf">1.0000000</span> <span class="n">B</span><span class="o">.......=</span> <span class="mf">1.0000000</span> <span class="n">C</span><span class="o">.......=</span> <span class="mf">1.0000000</span>
</span><span class="linenos">10</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.5000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.5000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.0000000</span>
<span class="linenos">11</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.0000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.5000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.5000000</span>
<span class="linenos">12</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.5000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.0000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.5000000</span>
<span class="hll"><span class="linenos">13</span><span class="n">QX</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">...=</span> <span class="mf">0.0000000</span> <span class="n">QY</span><span class="o">......=</span> <span class="mf">0.0000000</span> <span class="n">QZ</span><span class="o">......=</span> <span class="mf">0.0000000</span>
</span><span class="linenos">14</span><span class="n">a</span><span class="o">/</span><span class="n">w</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">..=</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span>
<span class="linenos">15</span><span class="n">LAMDA</span><span class="o">....=</span>    <span class="mf">2.5000</span> <span class="n">AMAX</span><span class="o">....=</span>    <span class="mf">4.5000</span> <span class="n">BMAX</span><span class="o">....=</span>    <span class="mf">4.5000</span>
</pre></div>
</div>
</div>
<p>A part of the input file of <code class="docutils literal notranslate"><span class="pre">kstr</span></code> describes the lattice informations:</p>
<ul class="simple">
<li><p>Total number of sites is set by NQ3.</p></li>
<li><p>The symmetry is set by <code class="docutils literal notranslate"><span class="pre">LAT</span></code>, more in the <a class="reference external" href="https://emto.gitlab.io/manual/manual.html#kstr">online manual</a>.</p></li>
<li><p>The lattice parameters are renormalized to the length of first lattice vector A (<code class="docutils literal notranslate"><span class="pre">A=1</span></code>).</p></li>
<li><p><strong>Cartesian Coordinates</strong> are used for sites/”atom” with <code class="docutils literal notranslate"><span class="pre">QX,QY,QZ</span></code>.</p></li>
</ul>
<p>Commands for run the <code class="docutils literal notranslate"><span class="pre">kstr</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kstr</span> <span class="o">&lt;</span> <span class="n">fcc</span><span class="o">.</span><span class="n">dat</span>
</pre></div>
</div>
<p>Or add <code class="docutils literal notranslate"><span class="pre">time</span></code> in front to have a feeling about the how much time each code consumes:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">time</span><span class="w"> </span>kstr<span class="w"> </span>&lt;<span class="w"> </span>fcc.dat
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DIR006=./</span></code> and <code class="docutils literal notranslate"><span class="pre">JOBNAM...=fcc</span></code>: a file <code class="docutils literal notranslate"><span class="pre">fcc.prn</span></code> will be generated in the current directory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DIR001=smx</span></code>: “slop matrix” will save to <code class="docutils literal notranslate"><span class="pre">smx/fcc.tfh</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MSGL.=</span>&#160; <span class="pre">0</span></code> could silence the screen printing.</p></li>
</ul>
</section>
<section id="bmdl">
<h6>BMDL<a class="headerlink" href="#bmdl" title="Link to this heading"></a></h6>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">The input file (bmdl/fcc.dat)</span><a class="headerlink" href="#id2" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">BMDL</span>      <span class="n">HP</span><span class="o">......=</span><span class="n">N</span>                               <span class="mi">22</span> <span class="n">Jan</span> <span class="mi">08</span>
<span class="hll"><span class="linenos"> 2</span><span class="n">JOBNAM</span><span class="o">...=</span><span class="n">fcc</span>        <span class="n">MSGL</span><span class="o">.=</span>  <span class="mi">1</span> <span class="n">NPRN</span><span class="o">.=</span>  <span class="mi">0</span>
</span><span class="hll"><span class="linenos"> 3</span><span class="n">DIR001</span><span class="o">=</span><span class="n">mdl</span><span class="o">/</span>
</span><span class="linenos"> 4</span><span class="n">DIR006</span><span class="o">=</span>
<span class="linenos"> 5</span><span class="n">Madelung</span> <span class="n">potential</span> <span class="k">for</span> <span class="n">fcc</span> <span class="n">bulk</span>
<span class="linenos"> 6</span><span class="n">NL</span><span class="o">.....=</span> <span class="mi">7</span>
<span class="linenos"> 7</span><span class="n">LAMDA</span><span class="o">....=</span>      <span class="mf">2.50</span> <span class="n">AMAX</span><span class="o">....=</span>      <span class="mf">4.50</span> <span class="n">BMAX</span><span class="o">....=</span>      <span class="mf">4.50</span>
<span class="hll"><span class="linenos"> 8</span><span class="n">NQ</span><span class="o">....=</span>  <span class="mi">1</span> <span class="n">LAT</span><span class="o">...=</span> <span class="mi">2</span> <span class="n">IPRIM</span><span class="o">.=</span> <span class="mi">0</span> <span class="n">NQR2</span><span class="o">..=</span> <span class="mi">0</span>
</span><span class="hll"><span class="linenos"> 9</span><span class="n">A</span><span class="o">........=</span> <span class="mf">1.0000000</span> <span class="n">B</span><span class="o">.......=</span> <span class="mf">1.0000000</span> <span class="n">C</span><span class="o">.......=</span> <span class="mf">1.0000000</span>
</span><span class="hll"><span class="linenos">10</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.5000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.5000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.0000000</span>
</span><span class="hll"><span class="linenos">11</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.0000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.5000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.5000000</span>
</span><span class="hll"><span class="linenos">12</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.5000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.0000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.5000000</span>
</span><span class="hll"><span class="linenos">13</span><span class="n">QX</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">...=</span> <span class="mf">0.0000000</span> <span class="n">QY</span><span class="o">......=</span> <span class="mf">0.0000000</span> <span class="n">QZ</span><span class="o">......=</span> <span class="mf">0.0000000</span>
</span></pre></div>
</div>
</div>
<p>The Lattice information must be consistent with <code class="docutils literal notranslate"><span class="pre">kstr</span></code>, and the output files will be <code class="docutils literal notranslate"><span class="pre">./fcc.prn</span></code> and <code class="docutils literal notranslate"><span class="pre">mdl/fcc.mdl</span></code></p>
</section>
<section id="shape">
<h6>SHAPE<a class="headerlink" href="#shape" title="Link to this heading"></a></h6>
<p>The input file (shape/fcc.dat) for <code class="docutils literal notranslate"><span class="pre">bmdl</span></code> contains similar lattice information as <code class="docutils literal notranslate"><span class="pre">kstr</span></code>:</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">The input file (shape/fcc.dat)</span><a class="headerlink" href="#id3" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">SHAPE</span>     <span class="n">HP</span><span class="o">......=</span><span class="n">N</span>                             <span class="mi">22</span> <span class="n">Jan</span> <span class="mi">08</span>
<span class="hll"><span class="linenos">2</span><span class="n">JOBNAM</span><span class="o">...=</span><span class="n">fcc</span>        <span class="n">MSGL</span><span class="o">.=</span>  <span class="mi">0</span>
</span><span class="hll"><span class="linenos">3</span><span class="n">FOR001</span><span class="o">=../</span><span class="n">kstr</span><span class="o">/</span><span class="n">smx</span><span class="o">/</span><span class="n">fcc</span><span class="o">.</span><span class="n">tfh</span>
</span><span class="hll"><span class="linenos">4</span><span class="n">DIR002</span><span class="o">=</span><span class="n">shp</span><span class="o">/</span>
</span><span class="linenos">5</span><span class="n">DIR006</span><span class="o">=./</span>
<span class="linenos">6</span><span class="n">Lmax</span><span class="o">..=</span> <span class="mi">30</span> <span class="n">NSR</span><span class="o">..=</span><span class="mi">129</span> <span class="n">NFI</span><span class="o">..=</span> <span class="mi">11</span>
<span class="linenos">7</span><span class="n">NPRN</span><span class="o">..=</span>  <span class="mi">0</span> <span class="n">IVEF</span><span class="o">.=</span>  <span class="mi">3</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">FOR001=../kstr/smx/fcc.tfh</span></code> shows <code class="docutils literal notranslate"><span class="pre">shape</span></code> will need the “slop matrix” from the result of <code class="docutils literal notranslate"><span class="pre">kstr</span></code>.
The output will be <code class="docutils literal notranslate"><span class="pre">shp/fcc.shp</span></code>.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p><code class="docutils literal notranslate"><span class="pre">kstr,bmdl</span></code> and <code class="docutils literal notranslate"><span class="pre">shape</span></code> only contains lattice information with a reduced unit,
They could be reused for any system which present with same lattice setup.</p>
</div>
</section>
<section id="kgrn">
<h6>KGRN<a class="headerlink" href="#kgrn" title="Link to this heading"></a></h6>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">KGRN</span>                                               <span class="mi">13</span> <span class="n">Oct</span> <span class="mi">12</span>
<span class="hll"><span class="linenos"> 2</span><span class="n">JOBNAM</span><span class="o">=</span><span class="n">cu</span> 
</span><span class="linenos"> 3</span><span class="n">STRT</span><span class="o">..=</span>  <span class="n">A</span> <span class="n">MSGL</span><span class="o">.=</span>  <span class="mi">0</span> <span class="n">EXPAN</span><span class="o">.=</span> <span class="n">S</span> <span class="n">FCD</span><span class="o">..=</span>  <span class="n">Y</span> <span class="n">FUNC</span><span class="o">..=</span> <span class="n">SCA</span>
<span class="hll"><span class="linenos"> 4</span><span class="n">FOR001</span><span class="o">=../</span><span class="n">kstr</span><span class="o">/</span><span class="n">smx</span><span class="o">/</span><span class="n">fcc</span><span class="o">.</span><span class="n">tfh</span>
</span><span class="linenos"> 5</span><span class="n">FOR001</span><span class="o">=../</span><span class="n">kstr</span><span class="o">/</span><span class="n">smx</span><span class="o">/</span><span class="n">fcc30</span><span class="o">.</span><span class="n">tfh</span>
<span class="linenos"> 6</span><span class="n">DIR002</span><span class="o">=</span><span class="n">pot</span><span class="o">/</span>
<span class="linenos"> 7</span><span class="n">DIR003</span><span class="o">=</span><span class="n">pot</span><span class="o">/</span>
<span class="hll"><span class="linenos"> 8</span><span class="n">FOR004</span><span class="o">=../</span><span class="n">bmdl</span><span class="o">/</span><span class="n">mdl</span><span class="o">/</span><span class="n">fcc</span><span class="o">.</span><span class="n">mdl</span>
</span><span class="linenos"> 9</span><span class="n">DIR006</span><span class="o">=</span>
<span class="hll"><span class="linenos">10</span><span class="n">DIR009</span><span class="o">=</span><span class="n">pot</span><span class="o">/</span>
</span><span class="linenos">11</span><span class="n">DIR010</span><span class="o">=</span><span class="n">chd</span><span class="o">/</span>
<span class="linenos">12</span><span class="n">DIR011</span><span class="o">=/</span><span class="n">tmp</span><span class="o">/</span>
<span class="linenos">13</span><span class="n">Self</span><span class="o">-</span><span class="n">consistent</span> <span class="n">KKR</span> <span class="n">calculation</span> <span class="k">for</span> <span class="n">fcc</span> <span class="n">Cu</span>
<span class="linenos">14</span><span class="n">Band</span><span class="p">:</span> <span class="mi">10</span> <span class="n">lines</span>
<span class="linenos">15</span><span class="n">NITER</span><span class="o">.=</span> <span class="mi">50</span> <span class="n">NLIN</span><span class="o">.=</span> <span class="mi">31</span> <span class="n">NPRN</span><span class="o">.=</span>  <span class="mi">0</span> <span class="n">NCPA</span><span class="o">.=</span>  <span class="mi">7</span> <span class="n">NT</span><span class="o">...=</span>  <span class="mi">1</span> <span class="n">MNTA</span><span class="o">.=</span>  <span class="mi">1</span>
<span class="linenos">16</span><span class="n">MODE</span><span class="o">..=</span> <span class="mi">3</span><span class="n">D</span> <span class="n">FRC</span><span class="o">..=</span>  <span class="n">N</span> <span class="n">DOS</span><span class="o">..=</span>  <span class="n">N</span> <span class="n">OPS</span><span class="o">..=</span>  <span class="n">N</span> <span class="n">AFM</span><span class="o">..=</span>  <span class="n">P</span> <span class="n">CRT</span><span class="o">..=</span>  <span class="n">M</span>
<span class="linenos">17</span><span class="n">Lmaxh</span><span class="o">.=</span>  <span class="mi">8</span> <span class="n">Lmaxt</span><span class="o">=</span>  <span class="mi">4</span> <span class="n">NFI</span><span class="o">..=</span> <span class="mi">31</span> <span class="n">FIXG</span><span class="o">.=</span>  <span class="mi">2</span> <span class="n">SHF</span><span class="o">..=</span>  <span class="mi">0</span> <span class="n">SOFC</span><span class="o">.=</span>  <span class="n">N</span>
<span class="linenos">18</span><span class="n">KMSH</span><span class="o">...=</span> <span class="n">G</span> <span class="n">IBZ</span><span class="o">..=</span>  <span class="mi">2</span> <span class="n">NKX</span><span class="o">..=</span>  <span class="mi">0</span> <span class="n">NKY</span><span class="o">..=</span> <span class="mi">13</span> <span class="n">NKZ</span><span class="o">..=</span>  <span class="mi">0</span> <span class="n">FBZ</span><span class="o">..=</span>  <span class="n">N</span>
<span class="linenos">19</span><span class="n">KMSH2</span><span class="o">..=</span> <span class="n">G</span> <span class="n">IBZ2</span><span class="o">.=</span>  <span class="mi">1</span> <span class="n">NKX2</span><span class="o">.=</span>  <span class="mi">4</span> <span class="n">NKY2</span><span class="o">.=</span>  <span class="mi">0</span> <span class="n">NKZ2</span><span class="o">.=</span> <span class="mi">51</span>
<span class="linenos">20</span><span class="n">ZMSH</span><span class="o">...=</span> <span class="n">C</span> <span class="n">NZ1</span><span class="o">..=</span> <span class="mi">16</span> <span class="n">NZ2</span><span class="o">..=</span>  <span class="mi">8</span> <span class="n">NZ3</span><span class="o">..=</span>  <span class="mi">8</span> <span class="n">NRES</span><span class="o">.=</span>  <span class="mi">4</span> <span class="n">NZD</span><span class="o">.=</span><span class="mi">1500</span>
<span class="linenos">21</span><span class="n">DEPTH</span><span class="o">..=</span>  <span class="mf">1.000</span> <span class="n">IMAGZ</span><span class="o">.=</span>  <span class="mf">0.020</span> <span class="n">EPS</span><span class="o">...=</span>  <span class="mf">0.200</span> <span class="n">ELIM</span><span class="o">..=</span> <span class="o">-</span><span class="mf">1.000</span>
<span class="linenos">22</span><span class="n">AMIX</span><span class="o">...=</span>  <span class="mf">0.100</span> <span class="n">EFMIX</span><span class="o">.=</span>  <span class="mf">1.000</span> <span class="n">VMTZ</span><span class="o">..=</span>  <span class="mf">0.000</span> <span class="n">MMOM</span><span class="o">..=</span>  <span class="mf">0.000</span>
<span class="linenos">23</span><span class="n">TOLE</span><span class="o">...=</span> <span class="mf">1.</span><span class="n">d</span><span class="o">-</span><span class="mi">07</span> <span class="n">TOLEF</span><span class="o">.=</span> <span class="mf">1.</span><span class="n">d</span><span class="o">-</span><span class="mi">07</span> <span class="n">TOLCPA</span><span class="o">=</span> <span class="mf">1.</span><span class="n">d</span><span class="o">-</span><span class="mi">06</span> <span class="n">TFERMI</span><span class="o">=</span>  <span class="mf">500.0</span> <span class="p">(</span><span class="n">K</span><span class="p">)</span>
<span class="hll"><span class="linenos">24</span><span class="n">SWS</span><span class="o">......=</span><span class="mf">2.686842</span>   <span class="n">NSWS</span><span class="o">.=</span>  <span class="mi">1</span> <span class="n">DSWS</span><span class="o">..=</span>   <span class="mf">0.05</span> <span class="n">ALPCPA</span><span class="o">=</span> <span class="mf">0.6020</span>
</span><span class="linenos">25</span><span class="n">Setup</span><span class="p">:</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">NQ</span><span class="o">*</span><span class="n">NS</span> <span class="n">lines</span>
<span class="hll"><span class="linenos">26</span><span class="n">EFGS</span><span class="o">...=</span>  <span class="mf">0.000</span> <span class="n">HX</span><span class="o">....=</span>  <span class="mf">0.100</span> <span class="n">NX</span><span class="o">...=</span>  <span class="mi">5</span> <span class="n">NZ0</span><span class="o">..=</span>  <span class="mi">6</span> <span class="n">STMP</span><span class="o">..=</span> <span class="n">N</span>
</span><span class="linenos">27</span><span class="n">Symb</span>   <span class="n">IQ</span> <span class="n">IT</span> <span class="n">ITA</span> <span class="n">NZ</span>  <span class="n">CONC</span>   <span class="n">Sm</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>  <span class="n">S</span><span class="p">(</span><span class="n">ws</span><span class="p">)</span> <span class="n">WS</span><span class="p">(</span><span class="n">wst</span><span class="p">)</span> <span class="n">QTR</span> <span class="n">SPLT</span> <span class="n">Fix</span>
<span class="linenos">28</span><span class="n">Cu</span>      <span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">29</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">0.0</span>  <span class="mf">0.0</span>  <span class="n">N</span>
<span class="linenos">29</span><span class="n">Atom</span><span class="p">:</span>  <span class="mi">4</span> <span class="n">lines</span> <span class="o">+</span> <span class="n">NT</span><span class="o">*</span><span class="n">NTA</span><span class="o">*</span><span class="mi">6</span> <span class="n">lines</span>
<span class="linenos">30</span><span class="n">IEX</span><span class="o">...=</span>  <span class="mi">4</span> <span class="n">NP</span><span class="o">..=</span> <span class="mi">251</span> <span class="n">NES</span><span class="o">..=</span> <span class="mi">15</span> <span class="n">NITER</span><span class="o">=</span><span class="mi">100</span> <span class="n">IWAT</span><span class="o">.=</span>  <span class="mi">0</span> <span class="n">NPRNA</span><span class="o">=</span>  <span class="mi">0</span>
<span class="linenos">31</span><span class="n">VMIX</span><span class="o">.....=</span>  <span class="mf">0.300000</span> <span class="n">RWAT</span><span class="o">....=</span>  <span class="mf">3.500000</span> <span class="n">RMAX</span><span class="o">....=</span> <span class="mf">20.000000</span>
<span class="linenos">32</span><span class="n">DX</span><span class="o">.......=</span>  <span class="mf">0.030000</span> <span class="n">DR1</span><span class="o">.....=</span>  <span class="mf">0.002000</span> <span class="n">TEST</span><span class="o">....=</span>  <span class="mf">1.00E-12</span>
<span class="linenos">33</span><span class="n">TESTE</span><span class="o">....=</span>  <span class="mf">1.00E-12</span> <span class="n">TESTY</span><span class="o">...=</span>  <span class="mf">1.00E-12</span> <span class="n">TESTV</span><span class="o">...=</span>  <span class="mf">1.00E-12</span>
<span class="linenos">34</span><span class="n">Cu</span>
<span class="linenos">35</span><span class="n">Iz</span><span class="o">=</span>  <span class="mi">29</span> <span class="n">Norb</span><span class="o">=</span> <span class="mi">10</span> <span class="n">Ion</span><span class="o">=</span>  <span class="mi">0</span> <span class="n">Config</span><span class="o">=</span> <span class="mi">3</span><span class="n">d10_4s1</span>
<span class="linenos">36</span><span class="n">n</span>      <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">4</span>
<span class="linenos">37</span><span class="n">Kappa</span> <span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">1</span> <span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">1</span> <span class="o">-</span><span class="mi">2</span>  <span class="mi">2</span> <span class="o">-</span><span class="mi">3</span> <span class="o">-</span><span class="mi">1</span>
<span class="linenos">38</span><span class="n">Occup</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">4</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">4</span>  <span class="mi">4</span>  <span class="mi">6</span>  <span class="mi">1</span>
<span class="linenos">39</span><span class="n">Valen</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">1</span>
</pre></div>
</div>
<ul>
<li><p>need <code class="docutils literal notranslate"><span class="pre">chd\</span></code> and <code class="docutils literal notranslate"><span class="pre">pot\</span></code> to be exist.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">JOBNAM=cu</span></code> will decide the output files start with <code class="docutils literal notranslate"><span class="pre">cu</span></code>: cu.prn, chd/cu.chd, pot/cu.pot …</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FOR001=../kstr/smx/fcc.tfh</span></code> and <code class="docutils literal notranslate"><span class="pre">FOR004=../bmdl/mdl/fcc.mdl</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IBZ..=</span>&#160; <span class="pre">2</span></code> should consistent with <code class="docutils literal notranslate"><span class="pre">LAT=2</span></code> in <code class="docutils literal notranslate"><span class="pre">kstr</span></code> and <code class="docutils literal notranslate"><span class="pre">bmdl</span></code> for <code class="docutils literal notranslate"><span class="pre">fcc</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NITER.=</span> <span class="pre">50</span></code>, <code class="docutils literal notranslate"><span class="pre">TOLE...=</span> <span class="pre">1.d-07</span> <span class="pre">TOLEF.=</span> <span class="pre">1.d-07</span></code>, <br />
check with <code class="docutils literal notranslate"><span class="pre">egrep</span> <span class="pre">&quot;erre|Converged|NOS|finished&quot;</span> <span class="pre">cu.prn</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AMIX...=</span>&#160; <span class="pre">0.100</span></code> mixing factor for new charge.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SWS......=2.686842</span></code>: The average Wigner-Seitz radius (bohr) to scale the lattice.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>e.g bcc lattice parameters (a) to SWS (<span class="math notranslate nohighlight">\(\omega\)</span>):</p>
<div class="math notranslate nohighlight">
\[2\times \frac{4\pi}{3} \omega^3 = a^3\]</div>
<p>units:</p>
<ul class="simple">
<li><p>length: <a class="reference external" href="https://en.wikipedia.org/wiki/Bohr_radius">Bohr</a>, 1 Bhor = 0.529177249 Angstrom</p></li>
<li><p>energy: <a class="reference external" href="https://en.wikipedia.org/wiki/Rydberg_constant#Rydberg_unit_of_energy">Rydberg</a>, 1 Ry = 13.605703976 eV</p></li>
</ul>
</div>
</li>
</ul>
<div class="math notranslate nohighlight">
\[N(\epsilon_F)=\frac{1}{2\pi i}\oint_{\epsilon_F} G(z)~dz\]</div>
<a class="reference internal image-reference" href="_images/contour_dos.svg"><img alt="_images/contour_dos.svg" class="align-center" src="_images/contour_dos.svg" style="width: 800px;" /></a>
</section>
</section>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-exercise/solutions/01/readme"></span><section id="exercise-01-4-sites-conventional-fcc-cell-for-cu">
<h3>exercise/01: 4 sites conventional fcc cell for Cu<a class="headerlink" href="#exercise-01-4-sites-conventional-fcc-cell-for-cu" title="Link to this heading"></a></h3>
<p>In this exercise we will use a different setups for fcc lattice.</p>
<ol class="arabic simple">
<li><p>Copy all input files from exercise/00:</p></li>
</ol>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<p>make sure we are in the path <code class="docutils literal notranslate"><span class="pre">exercise/</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w"> </span>cp<span class="w"> </span>-r<span class="w"> </span><span class="m">00</span>/*<span class="w"> </span><span class="m">01</span>/
<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span><span class="m">01</span>/*/*.<span class="o">{</span>prn,log,kstr,bmdl,shape,bmdl,kgrn,kfcd,out<span class="o">}</span><span class="w"> </span><span class="m">01</span>/*/*/*
</pre></div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Modify kstr and bmdl for conventional fcc unit cell:</p></li>
</ol>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NQ</span></code> and <code class="docutils literal notranslate"><span class="pre">LAT</span></code>for kstr and bmdl</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a/w</span></code> in kstr</p></li>
</ul>
<div class="highlight-udiff notranslate"><div class="highlight"><pre><span></span><span class="gd">--- /home/runner/work/emto-best-practices/emto-best-practices/content/exercise/solutions/00/kstr/fcc.dat</span>
<span class="gi">+++ /home/runner/work/emto-best-practices/emto-best-practices/content/exercise/solutions/01/kstr/fcc.dat</span>
<span class="gu">@@ -5,11 +5,17 @@</span>
<span class="w"> </span>Slope matrices, fcc (spdf), (kappa*w)^2= 0.0
<span class="w"> </span>NL.....= 4 NLH...=11 NLW...= 9 NDER..= 6 ITRANS= 3 NPRN..= 0
<span class="w"> </span>(K*W)^2..=  0.000000 DMAX....=    1.7000 RWATS...=      0.10
<span class="gd">-NQ3...=  1 LAT...= 2 IPRIM.= 0 NGHBP.=13 NQR2..= 0</span>
<span class="gi">+NQ3...=  4 LAT...= 1 IPRIM.= 0 NGHBP.=13 NQR2..= 0</span>
<span class="w"> </span>A........= 1.0000000 B.......= 1.0000000 C.......= 1.0000000
<span class="gd">-BSX......= 0.5000000 BSY.....= 0.5000000 BSZ.....= 0.0000000</span>
<span class="gd">-BSX......= 0.0000000 BSY.....= 0.5000000 BSZ.....= 0.5000000</span>
<span class="gd">-BSX......= 0.5000000 BSY.....= 0.0000000 BSZ.....= 0.5000000</span>
<span class="gi">+BSX......= 1.0000000 BSY.....= 0.0000000 BSZ.....= 0.0000000</span>
<span class="gi">+BSX......= 0.0000000 BSY.....= 1.0000000 BSZ.....= 0.0000000</span>
<span class="gi">+BSX......= 0.0000000 BSY.....= 0.0000000 BSZ.....= 1.0000000</span>
<span class="w"> </span>QX(IQ)...= 0.0000000 QY......= 0.0000000 QZ......= 0.0000000
<span class="gi">+QX(IQ)...= 0.5000000 QY......= 0.5000000 QZ......= 0.0000000</span>
<span class="gi">+QX(IQ)...= 0.5000000 QY......= 0.0000000 QZ......= 0.5000000</span>
<span class="gi">+QX(IQ)...= 0.0000000 QY......= 0.5000000 QZ......= 0.5000000</span>
<span class="gi">+a/w(IQ)..= 0.70 0.70 0.70 0.70</span>
<span class="gi">+a/w(IQ)..= 0.70 0.70 0.70 0.70</span>
<span class="gi">+a/w(IQ)..= 0.70 0.70 0.70 0.70</span>
<span class="w"> </span>a/w(IQ)..= 0.70 0.70 0.70 0.70
<span class="w"> </span>LAMDA....=    2.5000 AMAX....=    4.5000 BMAX....=    4.5000
</pre></div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p>put 4 Cu on these 4 sites in kgrn</p></li>
</ol>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NT=1</span></code> and all <code class="docutils literal notranslate"><span class="pre">IT</span></code> should be same: 4 Cu atoms should be equivalent.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IBZ=1</span></code> for simple cubic symmetry.</p></li>
</ul>
<div class="highlight-udiff notranslate"><div class="highlight"><pre><span></span><span class="gd">--- /home/runner/work/emto-best-practices/emto-best-practices/content/exercise/solutions/00/kgrn/cu.dat</span>
<span class="gi">+++ /home/runner/work/emto-best-practices/emto-best-practices/content/exercise/solutions/01/kgrn/cu.dat</span>
<span class="gu">@@ -15,7 +15,7 @@</span>
<span class="w"> </span>NITER.= 50 NLIN.= 31 NPRN.=  0 NCPA.=  7 NT...=  1 MNTA.=  1
<span class="w"> </span>MODE..= 3D FRC..=  N DOS..=  N OPS..=  N AFM..=  P CRT..=  M
<span class="w"> </span>Lmaxh.=  8 Lmaxt=  4 NFI..= 31 FIXG.=  2 SHF..=  0 SOFC.=  N
<span class="gd">-KMSH...= G IBZ..=  2 NKX..=  0 NKY..= 13 NKZ..=  0 FBZ..=  N</span>
<span class="gi">+KMSH...= G IBZ..=  1 NKX..=  0 NKY..= 13 NKZ..=  0 FBZ..=  N</span>
<span class="w"> </span>KMSH2..= G IBZ2.=  1 NKX2.=  4 NKY2.=  0 NKZ2.= 51
<span class="w"> </span>ZMSH...= C NZ1..= 16 NZ2..=  8 NZ3..=  8 NRES.=  4 NZD.=1500
<span class="w"> </span>DEPTH..=  1.000 IMAGZ.=  0.020 EPS...=  0.200 ELIM..= -1.000
<span class="gu">@@ -26,6 +26,9 @@</span>
<span class="w"> </span>EFGS...=  0.000 HX....=  0.100 NX...=  5 NZ0..=  6 STMP..= N
<span class="w"> </span>Symb   IQ IT ITA NZ  CONC   Sm(s)  S(ws) WS(wst) QTR SPLT Fix
<span class="w"> </span>Cu      1  1  1  29  1.000  1.000  1.000  1.000  0.0  0.0  N
<span class="gi">+Cu      2  1  1  29  1.000  1.000  1.000  1.000  0.0  0.0  N</span>
<span class="gi">+Cu      3  1  1  29  1.000  1.000  1.000  1.000  0.0  0.0  N</span>
<span class="gi">+Cu      4  1  1  29  1.000  1.000  1.000  1.000  0.0  0.0  N</span>
<span class="w"> </span>Atom:  4 lines + NT*NTA*6 lines
<span class="w"> </span>IEX...=  4 NP..= 251 NES..= 15 NITER=100 IWAT.=  0 NPRNA=  0
<span class="w"> </span>VMIX.....=  0.300000 RWAT....=  3.500000 RMAX....= 20.000000
</pre></div>
</div>
</div>
<ol class="arabic simple" start="4">
<li><p>run all of the calculations and compare the total energy in kfcd for these 2 different fcc setups.</p></li>
</ol>
<p>The energy of two setups should be same/close, but if not ?</p>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<p>we could play with the k-points for convergence test.</p>
<p>e.g:</p>
<ul class="simple">
<li><p>NKY=37 for 00/kgrn/cu.dat</p></li>
<li><p>NKY=19 for 01/kgrn/cu.dat</p></li>
</ul>
</div>
</section>
<span id="document-exercise/solutions/02/readme"></span><section id="exercise-02-equilibrium-volume-for-fcc-cu">
<h3>exercise/02: equilibrium volume for fcc Cu<a class="headerlink" href="#exercise-02-equilibrium-volume-for-fcc-cu" title="Link to this heading"></a></h3>
<p>In this exercise we will practice how to get lattice parameters for fcc copper with EMTO code.
The main idea is to calculate total energy vs. different volumes, <span class="math notranslate nohighlight">\(E(\omega)\)</span> curve, and fit to an “Equation of State” function.
Here we choose “Morse function”:</p>
<div class="math notranslate nohighlight">
\[E(\omega)=a+be^{-\lambda\omega}+ce^{-2\lambda\omega}\]</div>
<div class="admonition-system-specific-instructions callout admonition" id="callout-0">
<p class="admonition-title">System-specific instructions</p>
<p>Select instructions for the system you are using:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-VGV0cmFsaXRo" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-VGV0cmFsaXRo" name="VGV0cmFsaXRo" role="tab" tabindex="0">Tetralith</button><button aria-controls="panel-0-TGVvbmFyZG9fQm9vc3Rlcg==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-TGVvbmFyZG9fQm9vc3Rlcg==" name="TGVvbmFyZG9fQm9vc3Rlcg==" role="tab" tabindex="-1">Leonardo_Booster</button></div><div aria-labelledby="tab-0-VGV0cmFsaXRo" class="sphinx-tabs-panel group-tab" id="panel-0-VGV0cmFsaXRo" name="VGV0cmFsaXRo" role="tabpanel" tabindex="0"><p>Instructions for use on the NAISS cluster Tetralith (NSC)</p>
</div><div aria-labelledby="tab-0-TGVvbmFyZG9fQm9vc3Rlcg==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-TGVvbmFyZG9fQm9vc3Rlcg==" name="TGVvbmFyZG9fQm9vc3Rlcg==" role="tabpanel" tabindex="0"><p>Instructions for use on the EuroHPC cluster Leonardo Booster</p>
</div></div>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>make sure we are in the path at <code class="docutils literal notranslate"><span class="pre">exercise/02</span></code></p>
</div>
<ol class="arabic simple">
<li><p>we could reuse the kstr, bmdl and shape from exercise/00</p></li>
</ol>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ln<span class="w"> </span>-vs<span class="w"> </span>../00/kstr
ln<span class="w"> </span>-vs<span class="w"> </span>../00/bmdl
ln<span class="w"> </span>-vs<span class="w"> </span>../00/shape
</pre></div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>base on 00/kgrn/cu.dat, change to different SWS and also the jobname and file name</p></li>
</ol>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span>sws<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="sb">`</span>seq<span class="w"> </span><span class="m">2</span>.60<span class="w"> </span><span class="m">0</span>.02<span class="w"> </span><span class="m">2</span>.76<span class="sb">`</span>
<span class="k">do</span>
<span class="w">  </span>sed<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;s/JOBNAM=.*/JOBNAM=cu_</span><span class="si">${</span><span class="nv">sws</span><span class="si">}</span><span class="s2">/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span>-e<span class="w"> </span><span class="s2">&quot;s/SWS......=......../SWS......=</span><span class="si">${</span><span class="nv">sws</span><span class="si">}</span><span class="s2">0000/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>../00/kgrn/cu.dat<span class="w"> </span>&gt;<span class="w"> </span>kgrn/cu_<span class="si">${</span><span class="nv">sws</span><span class="si">}</span>.dat
<span class="k">done</span>
<span class="w"> </span>
<span class="c1"># maybe we need reduce the AMIX</span>
<span class="w">      </span><span class="c1"># -e &#39;s/AMIX...=  0.100/AMIX...=  0.020/&#39; \</span>
<span class="c1"># soft core apprixmation is important for equilibrium volume calculation </span>
<span class="w">      </span><span class="c1"># -e &#39;s/SOFC.=  N/SOFC.=  Y/&#39; \</span>
</pre></div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p>base on 00/kfcd/cu.dat change to different jobnam and file name</p></li>
</ol>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>-vp<span class="w"> </span>kfcd
<span class="k">for</span><span class="w"> </span>sws<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="sb">`</span>seq<span class="w"> </span><span class="m">2</span>.60<span class="w"> </span><span class="m">0</span>.02<span class="w"> </span><span class="m">2</span>.76<span class="sb">`</span>
<span class="k">do</span>
<span class="w">  </span>sed<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;s/JOBNAM...=.*/JOBNAM...=cu_</span><span class="si">${</span><span class="nv">sws</span><span class="si">}</span><span class="s2">/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span>../00/kfcd/cu.dat<span class="w"> </span>&gt;<span class="w"> </span>kfcd/cu_<span class="si">${</span><span class="nv">sws</span><span class="si">}</span>.dat
<span class="k">done</span>
<span class="c1"># maybe we want to silence the output </span>
<span class="w">      </span><span class="c1"># -e &#39;s/MSGL..=  1/MSGL..=  0/&#39; \</span>
</pre></div>
</div>
</div>
<ol class="arabic simple" start="4">
<li><p>run all calculations and get <span class="math notranslate nohighlight">\(E(\omega)\)</span></p></li>
</ol>
<ul class="simple">
<li><p>submit all kgrn jobs to the queue, use following sbatch script.</p></li>
</ul>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-VGV0cmFsaXRo" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-VGV0cmFsaXRo" name="VGV0cmFsaXRo" role="tab" tabindex="0">Tetralith</button><button aria-controls="panel-1-TGVvbmFyZG9fQm9vc3Rlcg==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-TGVvbmFyZG9fQm9vc3Rlcg==" name="TGVvbmFyZG9fQm9vc3Rlcg==" role="tab" tabindex="-1">Leonardo_Booster</button></div><div aria-labelledby="tab-1-VGV0cmFsaXRo" class="sphinx-tabs-panel group-tab" id="panel-1-VGV0cmFsaXRo" name="VGV0cmFsaXRo" role="tabpanel" tabindex="0"><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd kgrn
sbatch -A naiss2024-22-241 -c 2 -a 1-9 -t 10:00 ../../emto.sbatch
</pre></div>
</div>
</div><div aria-labelledby="tab-1-TGVvbmFyZG9fQm9vc3Rlcg==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-TGVvbmFyZG9fQm9vc3Rlcg==" name="TGVvbmFyZG9fQm9vc3Rlcg==" role="tabpanel" tabindex="0"><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd kgrn
sbatch -A xxxx -c 2 -a 1-9 -p lrd_all_serial -t 10:00 ../../emto.sbatch
</pre></div>
</div>
</div></div>
<ul>
<li><p>check if the kgrn jobs are finished correctly.</p>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">kgrn</span>
<span class="n">grep</span> <span class="o">-</span><span class="n">L</span> <span class="s2">&quot;finished&quot;</span> <span class="o">*.</span><span class="n">prn</span>
</pre></div>
</div>
</div>
</li>
<li><p>submit all kfcd jobs to the queue, use following sbatch script.</p></li>
</ul>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-VGV0cmFsaXRo" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-VGV0cmFsaXRo" name="VGV0cmFsaXRo" role="tab" tabindex="0">Tetralith</button><button aria-controls="panel-2-TGVvbmFyZG9fQm9vc3Rlcg==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-TGVvbmFyZG9fQm9vc3Rlcg==" name="TGVvbmFyZG9fQm9vc3Rlcg==" role="tab" tabindex="-1">Leonardo_Booster</button></div><div aria-labelledby="tab-2-VGV0cmFsaXRo" class="sphinx-tabs-panel group-tab" id="panel-2-VGV0cmFsaXRo" name="VGV0cmFsaXRo" role="tabpanel" tabindex="0"><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd kfcd 
sbatch -A naiss2024-22-241 -c 1 -a 1-9 -t 10:00 ../../emto.sbatch
</pre></div>
</div>
</div><div aria-labelledby="tab-2-TGVvbmFyZG9fQm9vc3Rlcg==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-TGVvbmFyZG9fQm9vc3Rlcg==" name="TGVvbmFyZG9fQm9vc3Rlcg==" role="tabpanel" tabindex="0"><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd kfcd
sbatch -A xxxx -c 1 -a 1-9 -p lrd_all_serial -t 10:00 ../../emto.sbatch
</pre></div>
</div>
</div></div>
<ol class="arabic" start="5">
<li><p>get total energy vs. <code class="docutils literal notranslate"><span class="pre">SWS</span></code> from kfcd output</p>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">kfcd</span>
<span class="n">grep</span> <span class="n">TOT</span><span class="o">-</span><span class="n">PBE</span> <span class="o">*.</span><span class="n">prn</span>
</pre></div>
</div>
<p>here we choose PBE EXC</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#               EXC                                      5th                      8th</span>
<span class="n">cu_2</span><span class="mf">.60</span><span class="o">.</span><span class="n">prn</span><span class="p">:</span>    <span class="n">TOT</span><span class="o">-</span><span class="n">PBE</span>         <span class="o">-</span><span class="mf">102.553631</span> <span class="p">(</span><span class="n">Ry</span><span class="p">)</span>    <span class="o">-</span><span class="mf">102.553631</span> <span class="p">(</span><span class="n">Ry</span><span class="o">/</span><span class="n">site</span><span class="p">)</span>   <span class="n">S</span><span class="o">=</span>  <span class="mf">2.600000</span> <span class="n">Bohr</span>
<span class="n">cu_2</span><span class="mf">.62</span><span class="o">.</span><span class="n">prn</span><span class="p">:</span>    <span class="n">TOT</span><span class="o">-</span><span class="n">PBE</span>         <span class="o">-</span><span class="mf">102.555746</span> <span class="p">(</span><span class="n">Ry</span><span class="p">)</span>    <span class="o">-</span><span class="mf">102.555746</span> <span class="p">(</span><span class="n">Ry</span><span class="o">/</span><span class="n">site</span><span class="p">)</span>   <span class="n">S</span><span class="o">=</span>  <span class="mf">2.620000</span> <span class="n">Bohr</span>
<span class="n">cu_2</span><span class="mf">.64</span><span class="o">.</span><span class="n">prn</span><span class="p">:</span>    <span class="n">TOT</span><span class="o">-</span><span class="n">PBE</span>         <span class="o">-</span><span class="mf">102.557381</span> <span class="p">(</span><span class="n">Ry</span><span class="p">)</span>    <span class="o">-</span><span class="mf">102.557381</span> <span class="p">(</span><span class="n">Ry</span><span class="o">/</span><span class="n">site</span><span class="p">)</span>   <span class="n">S</span><span class="o">=</span>  <span class="mf">2.640000</span> <span class="n">Bohr</span>
<span class="n">cu_2</span><span class="mf">.66</span><span class="o">.</span><span class="n">prn</span><span class="p">:</span>    <span class="n">TOT</span><span class="o">-</span><span class="n">PBE</span>         <span class="o">-</span><span class="mf">102.558531</span> <span class="p">(</span><span class="n">Ry</span><span class="p">)</span>    <span class="o">-</span><span class="mf">102.558531</span> <span class="p">(</span><span class="n">Ry</span><span class="o">/</span><span class="n">site</span><span class="p">)</span>   <span class="n">S</span><span class="o">=</span>  <span class="mf">2.660000</span> <span class="n">Bohr</span>
<span class="n">cu_2</span><span class="mf">.68</span><span class="o">.</span><span class="n">prn</span><span class="p">:</span>    <span class="n">TOT</span><span class="o">-</span><span class="n">PBE</span>         <span class="o">-</span><span class="mf">102.559243</span> <span class="p">(</span><span class="n">Ry</span><span class="p">)</span>    <span class="o">-</span><span class="mf">102.559243</span> <span class="p">(</span><span class="n">Ry</span><span class="o">/</span><span class="n">site</span><span class="p">)</span>   <span class="n">S</span><span class="o">=</span>  <span class="mf">2.680000</span> <span class="n">Bohr</span>
<span class="n">cu_2</span><span class="mf">.70</span><span class="o">.</span><span class="n">prn</span><span class="p">:</span>    <span class="n">TOT</span><span class="o">-</span><span class="n">PBE</span>         <span class="o">-</span><span class="mf">102.559439</span> <span class="p">(</span><span class="n">Ry</span><span class="p">)</span>    <span class="o">-</span><span class="mf">102.559439</span> <span class="p">(</span><span class="n">Ry</span><span class="o">/</span><span class="n">site</span><span class="p">)</span>   <span class="n">S</span><span class="o">=</span>  <span class="mf">2.700000</span> <span class="n">Bohr</span>
<span class="n">cu_2</span><span class="mf">.72</span><span class="o">.</span><span class="n">prn</span><span class="p">:</span>    <span class="n">TOT</span><span class="o">-</span><span class="n">PBE</span>         <span class="o">-</span><span class="mf">102.559283</span> <span class="p">(</span><span class="n">Ry</span><span class="p">)</span>    <span class="o">-</span><span class="mf">102.559283</span> <span class="p">(</span><span class="n">Ry</span><span class="o">/</span><span class="n">site</span><span class="p">)</span>   <span class="n">S</span><span class="o">=</span>  <span class="mf">2.720000</span> <span class="n">Bohr</span>
<span class="n">cu_2</span><span class="mf">.74</span><span class="o">.</span><span class="n">prn</span><span class="p">:</span>    <span class="n">TOT</span><span class="o">-</span><span class="n">PBE</span>         <span class="o">-</span><span class="mf">102.558814</span> <span class="p">(</span><span class="n">Ry</span><span class="p">)</span>    <span class="o">-</span><span class="mf">102.558814</span> <span class="p">(</span><span class="n">Ry</span><span class="o">/</span><span class="n">site</span><span class="p">)</span>   <span class="n">S</span><span class="o">=</span>  <span class="mf">2.740000</span> <span class="n">Bohr</span>
<span class="n">cu_2</span><span class="mf">.76</span><span class="o">.</span><span class="n">prn</span><span class="p">:</span>    <span class="n">TOT</span><span class="o">-</span><span class="n">PBE</span>         <span class="o">-</span><span class="mf">102.558060</span> <span class="p">(</span><span class="n">Ry</span><span class="p">)</span>    <span class="o">-</span><span class="mf">102.558060</span> <span class="p">(</span><span class="n">Ry</span><span class="o">/</span><span class="n">site</span><span class="p">)</span>   <span class="n">S</span><span class="o">=</span>  <span class="mf">2.760000</span> <span class="n">Bohr</span>
</pre></div>
</div>
<p>fit the 5th and 8th for morse function</p>
<a class="reference internal image-reference" href="_images/02_frozen_eos_kfcd_PBE.png"><img alt="_images/02_frozen_eos_kfcd_PBE.png" class="align-center" src="_images/02_frozen_eos_kfcd_PBE.png" style="width: 400px;" /></a>
</div>
</li>
</ol>
</section>
<span id="document-exercise/solutions/03/readme"></span><section id="exercise-03-elastic-constance-calculation-for-fcc-cu">
<h3>exercise/03: elastic constance calculation for fcc Cu<a class="headerlink" href="#exercise-03-elastic-constance-calculation-for-fcc-cu" title="Link to this heading"></a></h3>
<p>In this exercise we will practice how to get elastic constance for fcc copper with EMTO code.</p>
<p>Orthorhombic distortion</p>
<div class="math notranslate nohighlight">
\[\begin{split}D_o(\delta_o) + I = \left[\begin{matrix}
1+\delta_o&amp;0&amp;0\\
0&amp;1-\delta_o&amp;0\\
0&amp;0&amp;\frac{1}{(1-\delta_o^2)}\\
\end{matrix}\right]\end{split}\]</div>
<p>leads to energy change</p>
<div class="math notranslate nohighlight">
\[\Delta E(\delta_o) = 2Vc'\delta_o^2+O(\delta_o^4)\]</div>
<p>Monoclinic distortion</p>
<div class="math notranslate nohighlight">
\[\begin{split}D_m(\delta_m) + I = \left[\begin{matrix}
1&amp;\delta_m&amp;0\\
\delta_m&amp;1&amp;0\\
0&amp;0&amp;\frac{1}{(1-\delta_m^2)}\\
\end{matrix}\right]\end{split}\]</div>
<p>leads to energy change</p>
<div class="math notranslate nohighlight">
\[\Delta E(\delta_m) = 2Vc_{44}\delta_m^2+O(\delta_m^4)\]</div>
<div class="math notranslate nohighlight">
\[B=\frac{1}{3}(c_{11}+2c_{12})\]</div>
<div class="math notranslate nohighlight">
\[c'=\frac{1}{2}(c_{11}-c_{12})\]</div>
<ul class="simple">
<li><p>Isochoric stain</p>
<ul>
<li><p>volume not changed: SWS not changed.</p></li>
<li><p>only even order of <span class="math notranslate nohighlight">\(\delta\)</span>.</p></li>
</ul>
</li>
<li><p>Orthorhombic distortion apply to fcc: face center orthorhombic (fco).</p></li>
<li><p>Monoclinic distortion apply to fcc: body center orthorhombic (bco).</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All files for this exercise are in the path exercise/03</p>
</div>
<section id="fco-lattice-in-emto">
<h4>fco lattice in emto<a class="headerlink" href="#fco-lattice-in-emto" title="Link to this heading"></a></h4>
<p><span class="math notranslate nohighlight">\(\delta=0.00\)</span></p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">The input file (kstr/fco0.dat)</span><a class="headerlink" href="#id1" title="Link to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>KSTR<span class="w">      </span>HP......<span class="o">=</span>N<span class="w">                               </span><span class="m">22</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">08</span>
<span class="linenos"> 2</span>JOBNAM...<span class="o">=</span>fco0<span class="w">       </span>MSGL.<span class="o">=</span><span class="w">  </span><span class="m">0</span><span class="w"> </span>MODE...<span class="o">=</span>B<span class="w"> </span>STORE..<span class="o">=</span>Y<span class="w"> </span>HIGH...<span class="o">=</span>Y
<span class="linenos"> 3</span><span class="nv">DIR001</span><span class="o">=</span>smx/
<span class="linenos"> 4</span><span class="nv">DIR006</span><span class="o">=</span>./
<span class="linenos"> 5</span>Slope<span class="w"> </span>matrices,<span class="w"> </span>fco<span class="w"> </span><span class="o">(</span>spdf<span class="o">)</span><span class="w"> </span>DeltaE/V<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>C11-C12<span class="o">)</span>*e^2+O<span class="o">[</span>e^4<span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="nv">e</span><span class="o">=</span><span class="m">0</span>.00<span class="o">)</span>
<span class="linenos"> 6</span>NL.....<span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="w"> </span>NLH...<span class="o">=</span><span class="m">11</span><span class="w"> </span>NLW...<span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="w"> </span>NDER..<span class="o">=</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="nv">ITRANS</span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="w"> </span>NPRN..<span class="o">=</span><span class="w"> </span><span class="m">0</span>
<span class="linenos"> 7</span><span class="o">(</span>K*W<span class="o">)</span>^2..<span class="o">=</span><span class="w">  </span><span class="m">0</span>.000000<span class="w"> </span>DMAX....<span class="o">=</span><span class="w">    </span><span class="m">1</span>.6000<span class="w"> </span>RWATS...<span class="o">=</span><span class="w">      </span><span class="m">0</span>.10
<span class="hll"><span class="linenos"> 8</span>NQ3...<span class="o">=</span><span class="w">  </span><span class="m">1</span><span class="w"> </span>LAT...<span class="o">=</span><span class="m">11</span><span class="w"> </span>IPRIM.<span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>NGHBP.<span class="o">=</span><span class="m">13</span><span class="w"> </span>NQR2..<span class="o">=</span><span class="w"> </span><span class="m">0</span>
</span><span class="hll"><span class="linenos"> 9</span>A........<span class="o">=</span><span class="w"> </span><span class="m">1</span>.0000000<span class="w"> </span>B.......<span class="o">=</span><span class="w"> </span><span class="m">1</span>.0000000<span class="w"> </span>C.......<span class="o">=</span><span class="w"> </span><span class="m">1</span>.0000000
</span><span class="hll"><span class="linenos">10</span>ALPHA....<span class="o">=</span><span class="w">     </span><span class="m">90</span>.d0<span class="w"> </span>BETA....<span class="o">=</span><span class="w">     </span><span class="m">90</span>.d0<span class="w"> </span>GAMMA...<span class="o">=</span><span class="w">     </span><span class="m">90</span>.d0
</span><span class="hll"><span class="linenos">11</span>QX<span class="o">(</span>.1<span class="o">)</span>...<span class="o">=</span><span class="w"> </span><span class="m">0</span>.0000000<span class="w"> </span>QY......<span class="o">=</span><span class="w"> </span><span class="m">0</span>.0000000<span class="w"> </span>QZ......<span class="o">=</span><span class="w"> </span><span class="m">0</span>.0000000
</span><span class="linenos">12</span>a/w<span class="o">(</span>.2<span class="o">)</span>..<span class="o">=</span><span class="w"> </span><span class="m">0</span>.70<span class="w"> </span><span class="m">0</span>.70<span class="w"> </span><span class="m">0</span>.70<span class="w"> </span><span class="m">0</span>.70
<span class="linenos">13</span>LAMDA....<span class="o">=</span><span class="w">    </span><span class="m">2</span>.5000<span class="w"> </span>AMAX....<span class="o">=</span><span class="w">    </span><span class="m">4</span>.5000<span class="w"> </span>BMAX....<span class="o">=</span><span class="w">    </span><span class="m">4</span>.5000
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">In the output file (kstr/fco0.prn)</span><a class="headerlink" href="#id2" title="Link to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w"> </span>PRIMV:<span class="w">    </span>Default<span class="w"> </span>choice<span class="w"> </span>of<span class="w"> </span>primitive<span class="w"> </span>vectors.

<span class="w">           </span><span class="nv">A</span><span class="w">     </span><span class="o">=</span><span class="w">  </span><span class="m">1</span>.000000<span class="w"> </span><span class="nv">B</span><span class="w">     </span><span class="o">=</span><span class="w">  </span><span class="m">1</span>.000000<span class="w"> </span><span class="nv">C</span><span class="w">     </span><span class="o">=</span><span class="w">  </span><span class="m">1</span>.000000
<span class="w">           </span><span class="nv">ALPHA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">90</span>.000000<span class="w"> </span><span class="nv">BETA</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="m">90</span>.000000<span class="w"> </span><span class="nv">GAMMA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">90</span>.000000

<span class="w">           </span>Primitive<span class="w"> </span>vectors<span class="w"> </span><span class="k">for</span><span class="w">  </span>Fco<span class="w"> </span>lattice<span class="w"> </span><span class="k">in</span>
<span class="w">           </span>units<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>lattice<span class="w"> </span>spacing<span class="w"> </span>a:

<span class="w">           </span><span class="o">(</span><span class="w">   </span><span class="m">0</span>.50000,<span class="w">   </span><span class="m">0</span>.00000,<span class="w">   </span><span class="m">0</span>.50000<span class="w"> </span><span class="o">)</span>
<span class="w">           </span><span class="o">(</span><span class="w">   </span><span class="m">0</span>.50000,<span class="w">   </span><span class="m">0</span>.50000,<span class="w">   </span><span class="m">0</span>.00000<span class="w"> </span><span class="o">)</span>
<span class="w">           </span><span class="o">(</span><span class="w">   </span><span class="m">0</span>.00000,<span class="w">   </span><span class="m">0</span>.50000,<span class="w">   </span><span class="m">0</span>.50000<span class="w"> </span><span class="o">)</span>

<span class="w">           </span>Basis<span class="w"> </span>vectors:<span class="w">            </span><span class="nv">NQ3</span><span class="w"> </span><span class="o">=</span><span class="w">   </span><span class="m">1</span>

<span class="w">           </span><span class="o">(</span><span class="w">   </span><span class="m">0</span>.00000,<span class="w">   </span><span class="m">0</span>.00000,<span class="w">   </span><span class="m">0</span>.00000<span class="w"> </span><span class="o">)</span>
</pre></div>
</div>
</div>
<p><span class="math notranslate nohighlight">\(\delta=0.05\)</span></p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">The input file (kstr/fco5.dat)</span><a class="headerlink" href="#id3" title="Link to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>KSTR<span class="w">      </span>HP......<span class="o">=</span>N<span class="w">                               </span><span class="m">22</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">08</span>
<span class="linenos"> 2</span>JOBNAM...<span class="o">=</span>fco5<span class="w">       </span>MSGL.<span class="o">=</span><span class="w">  </span><span class="m">0</span><span class="w"> </span>MODE...<span class="o">=</span>B<span class="w"> </span>STORE..<span class="o">=</span>Y<span class="w"> </span>HIGH...<span class="o">=</span>Y
<span class="linenos"> 3</span><span class="nv">DIR001</span><span class="o">=</span>smx/
<span class="linenos"> 4</span><span class="nv">DIR006</span><span class="o">=</span>./
<span class="linenos"> 5</span>Slope<span class="w"> </span>matrices,<span class="w"> </span>fco<span class="w"> </span><span class="o">(</span>spdf<span class="o">)</span><span class="w"> </span>DeltaE/V<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>C11-C12<span class="o">)</span>*e^2+O<span class="o">[</span>e^4<span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="nv">e</span><span class="o">=</span><span class="m">0</span>.05<span class="o">)</span>
<span class="linenos"> 6</span>NL.....<span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="w"> </span>NLH...<span class="o">=</span><span class="m">11</span><span class="w"> </span>NLW...<span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="w"> </span>NDER..<span class="o">=</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="nv">ITRANS</span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="w"> </span>NPRN..<span class="o">=</span><span class="w"> </span><span class="m">0</span>
<span class="linenos"> 7</span><span class="o">(</span>K*W<span class="o">)</span>^2..<span class="o">=</span><span class="w">  </span><span class="m">0</span>.000000<span class="w"> </span>DMAX....<span class="o">=</span><span class="w">    </span><span class="m">1</span>.6000<span class="w"> </span>RWATS...<span class="o">=</span><span class="w">      </span><span class="m">0</span>.10
<span class="hll"><span class="linenos"> 8</span>NQ3...<span class="o">=</span><span class="w">  </span><span class="m">1</span><span class="w"> </span>LAT...<span class="o">=</span><span class="m">11</span><span class="w"> </span>IPRIM.<span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>NGHBP.<span class="o">=</span><span class="m">13</span><span class="w"> </span>NQR2..<span class="o">=</span><span class="w"> </span><span class="m">0</span>
</span><span class="hll"><span class="linenos"> 9</span>A........<span class="o">=</span><span class="w"> </span><span class="m">1</span>.0000000<span class="w"> </span>B.......<span class="o">=</span><span class="m">0</span>.90476190<span class="w"> </span>C.......<span class="o">=</span><span class="m">0</span>.95476786
</span><span class="hll"><span class="linenos">10</span>ALPHA....<span class="o">=</span><span class="w">     </span><span class="m">90</span>.d0<span class="w"> </span>BETA....<span class="o">=</span><span class="w">     </span><span class="m">90</span>.d0<span class="w"> </span>GAMMA...<span class="o">=</span><span class="w">     </span><span class="m">90</span>.d0
</span><span class="hll"><span class="linenos">11</span>QX<span class="o">(</span>.1<span class="o">)</span>...<span class="o">=</span><span class="w"> </span><span class="m">0</span>.0000000<span class="w"> </span>QY......<span class="o">=</span><span class="w"> </span><span class="m">0</span>.0000000<span class="w"> </span>QZ......<span class="o">=</span><span class="w"> </span><span class="m">0</span>.0000000
</span><span class="linenos">12</span>a/w<span class="o">(</span>.2<span class="o">)</span>..<span class="o">=</span><span class="w"> </span><span class="m">0</span>.70<span class="w"> </span><span class="m">0</span>.70<span class="w"> </span><span class="m">0</span>.70<span class="w"> </span><span class="m">0</span>.70
<span class="linenos">13</span>LAMDA....<span class="o">=</span><span class="w">    </span><span class="m">2</span>.5000<span class="w"> </span>AMAX....<span class="o">=</span><span class="w">    </span><span class="m">4</span>.5000<span class="w"> </span>BMAX....<span class="o">=</span><span class="w">    </span><span class="m">4</span>.5000
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">In the output file (kstr/fco5.prn)</span><a class="headerlink" href="#id4" title="Link to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w"> </span>PRIMV:<span class="w">    </span>Default<span class="w"> </span>choice<span class="w"> </span>of<span class="w"> </span>primitive<span class="w"> </span>vectors.

<span class="w">           </span><span class="nv">A</span><span class="w">     </span><span class="o">=</span><span class="w">  </span><span class="m">1</span>.000000<span class="w"> </span><span class="nv">B</span><span class="w">     </span><span class="o">=</span><span class="w">  </span><span class="m">0</span>.904762<span class="w"> </span><span class="nv">C</span><span class="w">     </span><span class="o">=</span><span class="w">  </span><span class="m">0</span>.954768
<span class="w">           </span><span class="nv">ALPHA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">90</span>.000000<span class="w"> </span><span class="nv">BETA</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="m">90</span>.000000<span class="w"> </span><span class="nv">GAMMA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">90</span>.000000

<span class="w">           </span>Primitive<span class="w"> </span>vectors<span class="w"> </span><span class="k">for</span><span class="w">  </span>Fco<span class="w"> </span>lattice<span class="w"> </span><span class="k">in</span>
<span class="w">           </span>units<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>lattice<span class="w"> </span>spacing<span class="w"> </span>a:

<span class="w">           </span><span class="o">(</span><span class="w">   </span><span class="m">0</span>.50000,<span class="w">   </span><span class="m">0</span>.00000,<span class="w">   </span><span class="m">0</span>.47738<span class="w"> </span><span class="o">)</span>
<span class="w">           </span><span class="o">(</span><span class="w">   </span><span class="m">0</span>.50000,<span class="w">   </span><span class="m">0</span>.45238,<span class="w">   </span><span class="m">0</span>.00000<span class="w"> </span><span class="o">)</span>
<span class="w">           </span><span class="o">(</span><span class="w">   </span><span class="m">0</span>.00000,<span class="w">   </span><span class="m">0</span>.45238,<span class="w">   </span><span class="m">0</span>.47738<span class="w"> </span><span class="o">)</span>

<span class="w">           </span>Basis<span class="w"> </span>vectors:<span class="w">            </span><span class="nv">NQ3</span><span class="w"> </span><span class="o">=</span><span class="w">   </span><span class="m">1</span>

<span class="w">           </span><span class="o">(</span><span class="w">   </span><span class="m">0</span>.00000,<span class="w">   </span><span class="m">0</span>.00000,<span class="w">   </span><span class="m">0</span>.00000<span class="w"> </span><span class="o">)</span>
</pre></div>
</div>
</div>
</section>
<section id="bco-lattice-in-emto">
<h4>bco lattice in emto<a class="headerlink" href="#bco-lattice-in-emto" title="Link to this heading"></a></h4>
<p><span class="math notranslate nohighlight">\(\delta=0.00\)</span></p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">The input file (kstr/bco0.dat)</span><a class="headerlink" href="#id5" title="Link to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>KSTR<span class="w">      </span>HP......<span class="o">=</span>N<span class="w">                               </span><span class="m">22</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">08</span>
<span class="linenos"> 2</span>JOBNAM...<span class="o">=</span>bco0<span class="w">       </span>MSGL.<span class="o">=</span><span class="w">  </span><span class="m">0</span><span class="w"> </span>MODE...<span class="o">=</span>B<span class="w"> </span>STORE..<span class="o">=</span>Y<span class="w"> </span>HIGH...<span class="o">=</span>Y
<span class="linenos"> 3</span><span class="nv">DIR001</span><span class="o">=</span>smx/
<span class="linenos"> 4</span><span class="nv">DIR006</span><span class="o">=</span>./
<span class="linenos"> 5</span>Slope<span class="w"> </span>matrices,<span class="w"> </span>bco<span class="w"> </span><span class="o">(</span>spdf<span class="o">)</span><span class="w"> </span>DeltaE/V<span class="w"> </span><span class="o">=</span><span class="w"> </span>2C44e^2+O<span class="o">[</span>e^4<span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="nv">e</span><span class="o">=</span><span class="m">0</span>.00<span class="o">)</span>
<span class="linenos"> 6</span>NL.....<span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="w"> </span>NLH...<span class="o">=</span><span class="m">11</span><span class="w"> </span>NLW...<span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="w"> </span>NDER..<span class="o">=</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="nv">ITRANS</span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="w"> </span>NPRN..<span class="o">=</span><span class="w"> </span><span class="m">0</span>
<span class="linenos"> 7</span><span class="o">(</span>K*W<span class="o">)</span>^2..<span class="o">=</span><span class="w">  </span><span class="m">0</span>.000000<span class="w"> </span>DMAX....<span class="o">=</span><span class="w">    </span><span class="m">2</span>.4000<span class="w"> </span>RWATS...<span class="o">=</span><span class="w">      </span><span class="m">0</span>.10
<span class="hll"><span class="linenos"> 8</span>NQ3...<span class="o">=</span><span class="w">  </span><span class="m">1</span><span class="w"> </span>LAT...<span class="o">=</span><span class="m">10</span><span class="w"> </span>IPRIM.<span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>NGHBP.<span class="o">=</span><span class="m">13</span><span class="w"> </span>NQR2..<span class="o">=</span><span class="w"> </span><span class="m">0</span>
</span><span class="hll"><span class="linenos"> 9</span>A........<span class="o">=</span><span class="w"> </span><span class="m">1</span>.0000000<span class="w"> </span>B.......<span class="o">=</span><span class="w"> </span><span class="m">1</span>.0000000<span class="w"> </span>C.......<span class="o">=</span><span class="m">1</span>.41421356
</span><span class="hll"><span class="linenos">10</span>ALPHA....<span class="o">=</span><span class="w">     </span><span class="m">90</span>.d0<span class="w"> </span>BETA....<span class="o">=</span><span class="w">     </span><span class="m">90</span>.d0<span class="w"> </span>GAMMA...<span class="o">=</span><span class="w">     </span><span class="m">90</span>.d0
</span><span class="hll"><span class="linenos">11</span>QX<span class="o">(</span>IQ<span class="o">)</span>...<span class="o">=</span><span class="w"> </span><span class="m">0</span>.0000000<span class="w"> </span>QY......<span class="o">=</span><span class="w"> </span><span class="m">0</span>.0000000<span class="w"> </span>QZ......<span class="o">=</span><span class="w"> </span><span class="m">0</span>.0000000
</span><span class="linenos">12</span>a/w<span class="o">(</span>IQ<span class="o">)</span>..<span class="o">=</span><span class="w"> </span><span class="m">0</span>.70<span class="w"> </span><span class="m">0</span>.70<span class="w"> </span><span class="m">0</span>.70<span class="w"> </span><span class="m">0</span>.70
<span class="linenos">13</span>LAMDA....<span class="o">=</span><span class="w">    </span><span class="m">2</span>.5000<span class="w"> </span>AMAX....<span class="o">=</span><span class="w">    </span><span class="m">4</span>.5000<span class="w"> </span>BMAX....<span class="o">=</span><span class="w">    </span><span class="m">4</span>.5000
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">In the output file (kstr/bco0.prn)</span><a class="headerlink" href="#id6" title="Link to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w"> </span>PRIMV:<span class="w">    </span>Default<span class="w"> </span>choice<span class="w"> </span>of<span class="w"> </span>primitive<span class="w"> </span>vectors.

<span class="w">           </span><span class="nv">A</span><span class="w">     </span><span class="o">=</span><span class="w">  </span><span class="m">1</span>.000000<span class="w"> </span><span class="nv">B</span><span class="w">     </span><span class="o">=</span><span class="w">  </span><span class="m">1</span>.000000<span class="w"> </span><span class="nv">C</span><span class="w">     </span><span class="o">=</span><span class="w">  </span><span class="m">1</span>.414214
<span class="w">           </span><span class="nv">ALPHA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">90</span>.000000<span class="w"> </span><span class="nv">BETA</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="m">90</span>.000000<span class="w"> </span><span class="nv">GAMMA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">90</span>.000000

<span class="w">           </span>Primitive<span class="w"> </span>vectors<span class="w"> </span><span class="k">for</span><span class="w">  </span>Bco<span class="w"> </span>lattice<span class="w"> </span><span class="k">in</span>
<span class="w">           </span>units<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>lattice<span class="w"> </span>spacing<span class="w"> </span>a:

<span class="w">           </span><span class="o">(</span><span class="w">   </span><span class="m">0</span>.50000,<span class="w">  </span>-0.50000,<span class="w">   </span><span class="m">0</span>.70711<span class="w"> </span><span class="o">)</span>
<span class="w">           </span><span class="o">(</span><span class="w">   </span><span class="m">0</span>.50000,<span class="w">   </span><span class="m">0</span>.50000,<span class="w">  </span>-0.70711<span class="w"> </span><span class="o">)</span>
<span class="w">           </span><span class="o">(</span><span class="w">  </span>-0.50000,<span class="w">   </span><span class="m">0</span>.50000,<span class="w">   </span><span class="m">0</span>.70711<span class="w"> </span><span class="o">)</span>

<span class="w">           </span>Basis<span class="w"> </span>vectors:<span class="w">            </span><span class="nv">NQ3</span><span class="w"> </span><span class="o">=</span><span class="w">   </span><span class="m">1</span>

<span class="w">           </span><span class="o">(</span><span class="w">   </span><span class="m">0</span>.00000,<span class="w">   </span><span class="m">0</span>.00000,<span class="w">   </span><span class="m">0</span>.00000<span class="w"> </span><span class="o">)</span>
</pre></div>
</div>
</div>
<p><span class="math notranslate nohighlight">\(\delta=0.05\)</span></p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">The input file (kstr/bco5.dat)</span><a class="headerlink" href="#id7" title="Link to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>KSTR<span class="w">      </span>HP......<span class="o">=</span>N<span class="w">                               </span><span class="m">22</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">08</span>
<span class="linenos"> 2</span>JOBNAM...<span class="o">=</span>bco5<span class="w">       </span>MSGL.<span class="o">=</span><span class="w">  </span><span class="m">0</span><span class="w"> </span>MODE...<span class="o">=</span>B<span class="w"> </span>STORE..<span class="o">=</span>Y<span class="w"> </span>HIGH...<span class="o">=</span>Y
<span class="linenos"> 3</span><span class="nv">DIR001</span><span class="o">=</span>smx/
<span class="linenos"> 4</span><span class="nv">DIR006</span><span class="o">=</span>./
<span class="linenos"> 5</span>Slope<span class="w"> </span>matrices,<span class="w"> </span>bco<span class="w"> </span><span class="o">(</span>spdf<span class="o">)</span><span class="w"> </span>DeltaE/V<span class="w"> </span><span class="o">=</span><span class="w"> </span>2C44e^2+O<span class="o">[</span>e^4<span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="nv">e</span><span class="o">=</span><span class="m">0</span>.05<span class="o">)</span>
<span class="linenos"> 6</span>NL.....<span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="w"> </span>NLH...<span class="o">=</span><span class="m">11</span><span class="w"> </span>NLW...<span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="w"> </span>NDER..<span class="o">=</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="nv">ITRANS</span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="w"> </span>NPRN..<span class="o">=</span><span class="w"> </span><span class="m">0</span>
<span class="linenos"> 7</span><span class="o">(</span>K*W<span class="o">)</span>^2..<span class="o">=</span><span class="w">  </span><span class="m">0</span>.000000<span class="w"> </span>DMAX....<span class="o">=</span><span class="w">    </span><span class="m">2</span>.2000<span class="w"> </span>RWATS...<span class="o">=</span><span class="w">      </span><span class="m">0</span>.10
<span class="hll"><span class="linenos"> 8</span>NQ3...<span class="o">=</span><span class="w">  </span><span class="m">1</span><span class="w"> </span>LAT...<span class="o">=</span><span class="m">10</span><span class="w"> </span>IPRIM.<span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>NGHBP.<span class="o">=</span><span class="m">13</span><span class="w"> </span>NQR2..<span class="o">=</span><span class="w"> </span><span class="m">0</span>
</span><span class="hll"><span class="linenos"> 9</span>A........<span class="o">=</span><span class="w"> </span><span class="m">1</span>.0000000<span class="w"> </span>B.......<span class="o">=</span><span class="m">0</span>.90476190<span class="w"> </span>C.......<span class="o">=</span><span class="m">1</span>.35024566
</span><span class="hll"><span class="linenos">10</span>ALPHA....<span class="o">=</span><span class="w">     </span><span class="m">90</span>.d0<span class="w"> </span>BETA....<span class="o">=</span><span class="w">     </span><span class="m">90</span>.d0<span class="w"> </span>GAMMA...<span class="o">=</span><span class="w">     </span><span class="m">90</span>.d0
</span><span class="hll"><span class="linenos">11</span>QX<span class="o">(</span>IQ<span class="o">)</span>...<span class="o">=</span><span class="w"> </span><span class="m">0</span>.0000000<span class="w"> </span>QY......<span class="o">=</span><span class="w"> </span><span class="m">0</span>.0000000<span class="w"> </span>QZ......<span class="o">=</span><span class="w"> </span><span class="m">0</span>.0000000
</span><span class="linenos">12</span>a/w<span class="o">(</span>IQ<span class="o">)</span>..<span class="o">=</span><span class="w"> </span><span class="m">0</span>.70<span class="w"> </span><span class="m">0</span>.70<span class="w"> </span><span class="m">0</span>.70<span class="w"> </span><span class="m">0</span>.70
<span class="linenos">13</span>LAMDA....<span class="o">=</span><span class="w">    </span><span class="m">2</span>.5000<span class="w"> </span>AMAX....<span class="o">=</span><span class="w">    </span><span class="m">4</span>.5000<span class="w"> </span>BMAX....<span class="o">=</span><span class="w">    </span><span class="m">4</span>.5000
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">In the output file (kstr/bco5.prn)</span><a class="headerlink" href="#id8" title="Link to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w"> </span>PRIMV:<span class="w">    </span>Default<span class="w"> </span>choice<span class="w"> </span>of<span class="w"> </span>primitive<span class="w"> </span>vectors.

<span class="w">           </span><span class="nv">A</span><span class="w">     </span><span class="o">=</span><span class="w">  </span><span class="m">1</span>.000000<span class="w"> </span><span class="nv">B</span><span class="w">     </span><span class="o">=</span><span class="w">  </span><span class="m">0</span>.904762<span class="w"> </span><span class="nv">C</span><span class="w">     </span><span class="o">=</span><span class="w">  </span><span class="m">1</span>.350246
<span class="w">           </span><span class="nv">ALPHA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">90</span>.000000<span class="w"> </span><span class="nv">BETA</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="m">90</span>.000000<span class="w"> </span><span class="nv">GAMMA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">90</span>.000000

<span class="w">           </span>Primitive<span class="w"> </span>vectors<span class="w"> </span><span class="k">for</span><span class="w">  </span>Bco<span class="w"> </span>lattice<span class="w"> </span><span class="k">in</span>
<span class="w">           </span>units<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>lattice<span class="w"> </span>spacing<span class="w"> </span>a:

<span class="w">           </span><span class="o">(</span><span class="w">   </span><span class="m">0</span>.50000,<span class="w">  </span>-0.45238,<span class="w">   </span><span class="m">0</span>.67512<span class="w"> </span><span class="o">)</span>
<span class="w">           </span><span class="o">(</span><span class="w">   </span><span class="m">0</span>.50000,<span class="w">   </span><span class="m">0</span>.45238,<span class="w">  </span>-0.67512<span class="w"> </span><span class="o">)</span>
<span class="w">           </span><span class="o">(</span><span class="w">  </span>-0.50000,<span class="w">   </span><span class="m">0</span>.45238,<span class="w">   </span><span class="m">0</span>.67512<span class="w"> </span><span class="o">)</span>

<span class="w">           </span>Basis<span class="w"> </span>vectors:<span class="w">            </span><span class="nv">NQ3</span><span class="w"> </span><span class="o">=</span><span class="w">   </span><span class="m">1</span>

<span class="w">           </span><span class="o">(</span><span class="w">   </span><span class="m">0</span>.00000,<span class="w">   </span><span class="m">0</span>.00000,<span class="w">   </span><span class="m">0</span>.00000<span class="w"> </span><span class="o">)</span>
</pre></div>
</div>
</div>
</section>
<section id="kgrn-inputs">
<h4>kgrn inputs<a class="headerlink" href="#kgrn-inputs" title="Link to this heading"></a></h4>
<div class="highlight-udiff notranslate"><div class="highlight"><pre><span></span><span class="gd">--- /home/runner/work/emto-best-practices/emto-best-practices/content/exercise/solutions/00/kgrn/cu.dat</span>
<span class="gi">+++ /home/runner/work/emto-best-practices/emto-best-practices/content/exercise/solutions/03/kgrn/cuf5.dat</span>
<span class="gu">@@ -1,25 +1,25 @@</span>
<span class="w"> </span>KGRN                                               13 Oct 12
<span class="gd">-JOBNAM=cu </span>
<span class="gi">+JOBNAM=cuf5</span>
<span class="w"> </span>STRT..=  A MSGL.=  0 EXPAN.= S FCD..=  Y FUNC..= SCA
<span class="gd">-FOR001=../kstr/smx/fcc.tfh</span>
<span class="gd">-FOR001=../kstr/smx/fcc30.tfh</span>
<span class="gi">+FOR001=../kstr/smx/fco5.tfh</span>
<span class="gi">+FOR001=../kstr/smx/fco510.tfh</span>
<span class="w"> </span>DIR002=pot/
<span class="w"> </span>DIR003=pot/
<span class="gd">-FOR004=../bmdl/mdl/fcc.mdl</span>
<span class="gi">+FOR004=../bmdl/mdl/fco5.mdl</span>
<span class="w"> </span>DIR006=
<span class="w"> </span>DIR009=pot/
<span class="w"> </span>DIR010=chd/
<span class="w"> </span>DIR011=/tmp/
<span class="gd">-Self-consistent KKR calculation for fcc Cu</span>
<span class="gi">+Self-consistent KKR calculation for fcc Cu, (C11-C12)/2</span>
<span class="w"> </span>Band: 10 lines
<span class="w"> </span>NITER.= 50 NLIN.= 31 NPRN.=  0 NCPA.=  7 NT...=  1 MNTA.=  1
<span class="w"> </span>MODE..= 3D FRC..=  N DOS..=  N OPS..=  N AFM..=  P CRT..=  M
<span class="w"> </span>Lmaxh.=  8 Lmaxt=  4 NFI..= 31 FIXG.=  2 SHF..=  0 SOFC.=  N
<span class="gd">-KMSH...= G IBZ..=  2 NKX..=  0 NKY..= 13 NKZ..=  0 FBZ..=  N</span>
<span class="gi">+KMSH...= G IBZ..= 11 NKX..= 27 NKY..= 27 NKZ..= 27 FBZ..=  N</span>
<span class="w"> </span>KMSH2..= G IBZ2.=  1 NKX2.=  4 NKY2.=  0 NKZ2.= 51
<span class="w"> </span>ZMSH...= C NZ1..= 16 NZ2..=  8 NZ3..=  8 NRES.=  4 NZD.=1500
<span class="w"> </span>DEPTH..=  1.000 IMAGZ.=  0.020 EPS...=  0.200 ELIM..= -1.000
<span class="gd">-AMIX...=  0.100 EFMIX.=  1.000 VMTZ..=  0.000 MMOM..=  0.000</span>
<span class="gi">+AMIX...=  0.050 EFMIX.=  1.000 VMTZ..=  0.000 MMOM..=  0.000</span>
<span class="w"> </span>TOLE...= 1.d-07 TOLEF.= 1.d-07 TOLCPA= 1.d-06 TFERMI=  500.0 (K)
<span class="w"> </span>SWS......=2.686842   NSWS.=  1 DSWS..=   0.05 ALPCPA= 0.6020
<span class="w"> </span>Setup: 2 + NQ*NS lines
</pre></div>
</div>
<div class="highlight-udiff notranslate"><div class="highlight"><pre><span></span><span class="gd">--- /home/runner/work/emto-best-practices/emto-best-practices/content/exercise/solutions/00/kgrn/cu.dat</span>
<span class="gi">+++ /home/runner/work/emto-best-practices/emto-best-practices/content/exercise/solutions/03/kgrn/cuo5.dat</span>
<span class="gu">@@ -1,25 +1,25 @@</span>
<span class="w"> </span>KGRN                                               13 Oct 12
<span class="gd">-JOBNAM=cu </span>
<span class="gi">+JOBNAM=cuo5</span>
<span class="w"> </span>STRT..=  A MSGL.=  0 EXPAN.= S FCD..=  Y FUNC..= SCA
<span class="gd">-FOR001=../kstr/smx/fcc.tfh</span>
<span class="gd">-FOR001=../kstr/smx/fcc30.tfh</span>
<span class="gi">+FOR001=../kstr/smx/bco5.tfh</span>
<span class="gi">+FOR001=../kstr/smx/bco510.tfh</span>
<span class="w"> </span>DIR002=pot/
<span class="w"> </span>DIR003=pot/
<span class="gd">-FOR004=../bmdl/mdl/fcc.mdl</span>
<span class="gi">+FOR004=../bmdl/mdl/bco5.mdl</span>
<span class="w"> </span>DIR006=
<span class="w"> </span>DIR009=pot/
<span class="w"> </span>DIR010=chd/
<span class="w"> </span>DIR011=/tmp/
<span class="gd">-Self-consistent KKR calculation for fcc Cu</span>
<span class="gi">+Self-consistent KKR calculation for fcc Cu, C44</span>
<span class="w"> </span>Band: 10 lines
<span class="w"> </span>NITER.= 50 NLIN.= 31 NPRN.=  0 NCPA.=  7 NT...=  1 MNTA.=  1
<span class="w"> </span>MODE..= 3D FRC..=  N DOS..=  N OPS..=  N AFM..=  P CRT..=  M
<span class="w"> </span>Lmaxh.=  8 Lmaxt=  4 NFI..= 31 FIXG.=  2 SHF..=  0 SOFC.=  N
<span class="gd">-KMSH...= G IBZ..=  2 NKX..=  0 NKY..= 13 NKZ..=  0 FBZ..=  N</span>
<span class="gi">+KMSH...= G IBZ..= 10 NKX..= 27 NKY..= 27 NKZ..= 37 FBZ..=  N</span>
<span class="w"> </span>KMSH2..= G IBZ2.=  1 NKX2.=  4 NKY2.=  0 NKZ2.= 51
<span class="w"> </span>ZMSH...= C NZ1..= 16 NZ2..=  8 NZ3..=  8 NRES.=  4 NZD.=1500
<span class="w"> </span>DEPTH..=  1.000 IMAGZ.=  0.020 EPS...=  0.200 ELIM..= -1.000
<span class="gd">-AMIX...=  0.100 EFMIX.=  1.000 VMTZ..=  0.000 MMOM..=  0.000</span>
<span class="gi">+AMIX...=  0.050 EFMIX.=  1.000 VMTZ..=  0.000 MMOM..=  0.000</span>
<span class="w"> </span>TOLE...= 1.d-07 TOLEF.= 1.d-07 TOLCPA= 1.d-06 TFERMI=  500.0 (K)
<span class="w"> </span>SWS......=2.686842   NSWS.=  1 DSWS..=   0.05 ALPCPA= 0.6020
<span class="w"> </span>Setup: 2 + NQ*NS lines
</pre></div>
</div>
</section>
<section id="kfcd-inputs">
<h4>kfcd inputs<a class="headerlink" href="#kfcd-inputs" title="Link to this heading"></a></h4>
<div class="highlight-udiff notranslate"><div class="highlight"><pre><span></span><span class="gd">--- /home/runner/work/emto-best-practices/emto-best-practices/content/exercise/solutions/00/kfcd/cu.dat</span>
<span class="gi">+++ /home/runner/work/emto-best-practices/emto-best-practices/content/exercise/solutions/03/kfcd/cuf5.dat</span>
<span class="gu">@@ -1,6 +1,6 @@</span>
<span class="gd">-KFCD      MSGL..=  1                               22 Jan 08</span>
<span class="gd">-JOBNAM...=cu</span>
<span class="gd">-STRNAM...=fcc</span>
<span class="gi">+KFCD      MSGL..=  0                               22 Jan 08</span>
<span class="gi">+JOBNAM...=cuf5</span>
<span class="gi">+STRNAM...=fco5</span>
<span class="w"> </span>DIR001=../kstr/smx/
<span class="w"> </span>DIR002=../kgrn/chd/
<span class="w"> </span>DIR003=../shape/shp/
</pre></div>
</div>
<div class="highlight-udiff notranslate"><div class="highlight"><pre><span></span><span class="gd">--- /home/runner/work/emto-best-practices/emto-best-practices/content/exercise/solutions/00/kfcd/cu.dat</span>
<span class="gi">+++ /home/runner/work/emto-best-practices/emto-best-practices/content/exercise/solutions/03/kfcd/cuo5.dat</span>
<span class="gu">@@ -1,6 +1,6 @@</span>
<span class="gd">-KFCD      MSGL..=  1                               22 Jan 08</span>
<span class="gd">-JOBNAM...=cu</span>
<span class="gd">-STRNAM...=fcc</span>
<span class="gi">+KFCD      MSGL..=  0                               22 Jan 08</span>
<span class="gi">+JOBNAM...=cuo5</span>
<span class="gi">+STRNAM...=bco5</span>
<span class="w"> </span>DIR001=../kstr/smx/
<span class="w"> </span>DIR002=../kgrn/chd/
<span class="w"> </span>DIR003=../shape/shp/
</pre></div>
</div>
</section>
<section id="run-the-exercise03">
<h4>run the exercise03<a class="headerlink" href="#run-the-exercise03" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>submit all kstr, bmdl and shape jobs to the queue, use following sbatch script.</p></li>
</ul>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-VGV0cmFsaXRo" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-VGV0cmFsaXRo" name="VGV0cmFsaXRo" role="tab" tabindex="0">Tetralith</button><button aria-controls="panel-0-TGVvbmFyZG9fQm9vc3Rlcg==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-TGVvbmFyZG9fQm9vc3Rlcg==" name="TGVvbmFyZG9fQm9vc3Rlcg==" role="tab" tabindex="-1">Leonardo_Booster</button></div><div aria-labelledby="tab-0-VGV0cmFsaXRo" class="sphinx-tabs-panel group-tab" id="panel-0-VGV0cmFsaXRo" name="VGV0cmFsaXRo" role="tabpanel" tabindex="0"><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd kstr
sbatch -A naiss2024-22-241 -c 1 -a 1-12 -t 10:00 ../../emto.sbatch
</pre></div>
</div>
</div><div aria-labelledby="tab-0-TGVvbmFyZG9fQm9vc3Rlcg==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-TGVvbmFyZG9fQm9vc3Rlcg==" name="TGVvbmFyZG9fQm9vc3Rlcg==" role="tabpanel" tabindex="0"><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd kstr
sbatch -A xxxx -c 1 -a 1-12 -p lrd_all_serial -t 10:00 ../../emto.sbatch
</pre></div>
</div>
</div></div>
<ul class="simple">
<li><p>submit all kgrn jobs to the queue, use following sbatch script.</p></li>
</ul>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-VGV0cmFsaXRo" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-VGV0cmFsaXRo" name="VGV0cmFsaXRo" role="tab" tabindex="0">Tetralith</button><button aria-controls="panel-1-TGVvbmFyZG9fQm9vc3Rlcg==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-TGVvbmFyZG9fQm9vc3Rlcg==" name="TGVvbmFyZG9fQm9vc3Rlcg==" role="tab" tabindex="-1">Leonardo_Booster</button></div><div aria-labelledby="tab-1-VGV0cmFsaXRo" class="sphinx-tabs-panel group-tab" id="panel-1-VGV0cmFsaXRo" name="VGV0cmFsaXRo" role="tabpanel" tabindex="0"><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd kgrn
sbatch -A naiss2024-22-241 -c 8 -a 1-12 -t 10:00 ../../emto.sbatch
</pre></div>
</div>
</div><div aria-labelledby="tab-1-TGVvbmFyZG9fQm9vc3Rlcg==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-TGVvbmFyZG9fQm9vc3Rlcg==" name="TGVvbmFyZG9fQm9vc3Rlcg==" role="tabpanel" tabindex="0"><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd kgrn
sbatch -A xxxx -c 8 -a 1-12 -p lrd_all_serial -t 10:00 ../../emto.sbatch
</pre></div>
</div>
</div></div>
<ul>
<li><p>check if the kgrn jobs are finished correctly.</p>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">kgrn</span>
<span class="n">grep</span> <span class="o">-</span><span class="n">L</span> <span class="s2">&quot;finished&quot;</span> <span class="o">*.</span><span class="n">prn</span>
</pre></div>
</div>
</div>
</li>
<li><p>submit all kfcd jobs to the queue, use following sbatch script.</p></li>
</ul>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-VGV0cmFsaXRo" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-VGV0cmFsaXRo" name="VGV0cmFsaXRo" role="tab" tabindex="0">Tetralith</button><button aria-controls="panel-2-TGVvbmFyZG9fQm9vc3Rlcg==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-TGVvbmFyZG9fQm9vc3Rlcg==" name="TGVvbmFyZG9fQm9vc3Rlcg==" role="tab" tabindex="-1">Leonardo_Booster</button></div><div aria-labelledby="tab-2-VGV0cmFsaXRo" class="sphinx-tabs-panel group-tab" id="panel-2-VGV0cmFsaXRo" name="VGV0cmFsaXRo" role="tabpanel" tabindex="0"><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd kfcd 
sbatch -A naiss2024-22-241 -c 1 -a 1-12 -t 10:00 ../../emto.sbatch
</pre></div>
</div>
</div><div aria-labelledby="tab-2-TGVvbmFyZG9fQm9vc3Rlcg==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-TGVvbmFyZG9fQm9vc3Rlcg==" name="TGVvbmFyZG9fQm9vc3Rlcg==" role="tabpanel" tabindex="0"><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd kfcd
sbatch -A xxxx -c 1 -a 1-12 -p lrd_all_serial -t 10:00 ../../emto.sbatch
</pre></div>
</div>
</div></div>
</section>
<section id="extract-the-results">
<h4>extract the results<a class="headerlink" href="#extract-the-results" title="Link to this heading"></a></h4>
<p>In kfcd folder</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>grep<span class="w"> </span>TOT-PBE<span class="w"> </span>cuo?.prn<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{if(NR==1)e0=$5;printf &quot;%s %.6f %.6f\n&quot; $1,NR*NR*0.0001,$5-e0}&#39;</span>
</pre></div>
</div>
<p>fit <span class="math notranslate nohighlight">\(\delta_o^2\)</span> vs. <span class="math notranslate nohighlight">\(\Delta E\)</span> with the 2nd and 3th column to get <span class="math notranslate nohighlight">\(c'\)</span>.<br />
<img alt="bco-2.687600" src="https://hackmd.io/_uploads/ByifcP_Tp.png" /></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>grep<span class="w"> </span>TOT-PBE<span class="w"> </span>cuf?.prn<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{if(NR==1)e0=$5;printf &quot;%s %.6f %.6f\n&quot; $1,NR*NR*0.0001,$5-e0}&#39;</span>
</pre></div>
</div>
<p>fit <span class="math notranslate nohighlight">\(\delta_m^2\)</span> vs. <span class="math notranslate nohighlight">\(\Delta E\)</span> with the 2nd and 3th column to get <span class="math notranslate nohighlight">\(c_{44}\)</span>.<br />
<img alt="fco-2.687600" src="https://hackmd.io/_uploads/Hy8Nqw_Tp.png" /></p>
</section>
</section>
<span id="document-exercise/solutions/04/readme"></span><section id="exercise-04-mixing-enthalpy-for-bcc-fecrx-alloy-fm">
<h3>exercise/04: Mixing enthalpy for bcc FeCrx alloy: FM<a class="headerlink" href="#exercise-04-mixing-enthalpy-for-bcc-fecrx-alloy-fm" title="Link to this heading"></a></h3>
<p>In this exercise we will practice how to get Mixing enthalpy of bcc <span class="math notranslate nohighlight">\(Fe_{ (1-x) }Cr_x\)</span> alloy with EMTO.</p>
<div class="math notranslate nohighlight">
\[H = E_{Fe_{(1-x)}Cr_x} - ( 1-x )E_{Fe_{bcc}} - x E_{Cr_{bcc}}\]</div>
<p>The reference states are chosen as FM Fe and NM Cr, both in bcc structure. <a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> <br />
For each <span class="math notranslate nohighlight">\(Fe_{ (1-x) }Cr_x\)</span>, we need its equilibrium volume and correspond energy.</p>
<section id="alloy-setup-with-cpa-in-kgrn">
<h4>alloy setup with CPA in kgrn<a class="headerlink" href="#alloy-setup-with-cpa-in-kgrn" title="Link to this heading"></a></h4>
<section id="create-an-input-files-for-fe-50-cr-50">
<h5>create an input files for <span class="math notranslate nohighlight">\(Fe_{50}Cr_{50}\)</span><a class="headerlink" href="#create-an-input-files-for-fe-50-cr-50" title="Link to this heading"></a></h5>
<ul>
<li><p>we could copy the kgrn input from exercise00 and make some changes.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">JOBNAM=fecr_FM</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FOR001=../kstr/smx/bcc.tfh</span></code>, <code class="docutils literal notranslate"><span class="pre">FOR004=../bmdl/mdl/bcc.mdl</span></code> and <code class="docutils literal notranslate"><span class="pre">IBZ..=</span>&#160; <span class="pre">3</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MNTA.=</span>&#160; <span class="pre">2</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AFM..=</span>&#160; <span class="pre">F</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SOFC.=</span>&#160; <span class="pre">Y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AMIX...=</span>&#160; <span class="pre">0.010</span></code></p></li>
<li><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Symb<span class="w">   </span>IQ<span class="w"> </span>IT<span class="w"> </span>ITA<span class="w"> </span>NZ<span class="w">  </span>CONC<span class="w">   </span>Sm<span class="o">(</span>s<span class="o">)</span><span class="w">  </span>S<span class="o">(</span>ws<span class="o">)</span><span class="w"> </span>WS<span class="o">(</span>wst<span class="o">)</span><span class="w"> </span>QTR<span class="w"> </span>SPLT<span class="w"> </span>Fix
Fe<span class="w">      </span><span class="m">1</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">26</span><span class="w">  </span><span class="m">50</span>.00<span class="w">  </span><span class="m">1</span>.000<span class="w">  </span><span class="m">1</span>.000<span class="w">  </span><span class="m">1</span>.000<span class="w">  </span><span class="m">0</span>.0<span class="w">  </span><span class="m">2</span>.0<span class="w">  </span>N
Cr<span class="w">      </span><span class="m">1</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">24</span><span class="w">  </span><span class="m">50</span>.00<span class="w">  </span><span class="m">1</span>.000<span class="w">  </span><span class="m">1</span>.000<span class="w">  </span><span class="m">1</span>.000<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span>-1.0<span class="w">  </span>N
</pre></div>
</div>
</li>
<li><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Fe
<span class="nv">Iz</span><span class="o">=</span><span class="w">  </span><span class="m">26</span><span class="w"> </span><span class="nv">Norb</span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="nv">Ion</span><span class="o">=</span><span class="w">  </span><span class="m">0</span><span class="w"> </span><span class="nv">Config</span><span class="o">=</span><span class="w"> </span>3d7_4s1
n<span class="w">      </span><span class="m">1</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">3</span><span class="w">  </span><span class="m">3</span><span class="w">  </span><span class="m">3</span><span class="w">  </span><span class="m">3</span><span class="w">  </span><span class="m">3</span><span class="w">  </span><span class="m">4</span>
Kappa<span class="w"> </span>-1<span class="w"> </span>-1<span class="w">  </span><span class="m">1</span><span class="w"> </span>-2<span class="w"> </span>-1<span class="w">  </span><span class="m">1</span><span class="w"> </span>-2<span class="w">  </span><span class="m">2</span><span class="w"> </span>-3<span class="w"> </span>-1
Occup<span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">4</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">4</span><span class="w">  </span><span class="m">4</span><span class="w">  </span><span class="m">3</span><span class="w">  </span><span class="m">1</span>
Valen<span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">1</span>
Cr
<span class="nv">Iz</span><span class="o">=</span><span class="w">  </span><span class="m">24</span><span class="w"> </span><span class="nv">Norb</span><span class="o">=</span><span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="nv">Ion</span><span class="o">=</span><span class="w">  </span><span class="m">0</span><span class="w"> </span><span class="nv">Config</span><span class="o">=</span><span class="w"> </span>3d4_4s2
n<span class="w">      </span><span class="m">1</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">3</span><span class="w">  </span><span class="m">3</span><span class="w">  </span><span class="m">3</span><span class="w">  </span><span class="m">3</span><span class="w">  </span><span class="m">4</span>
Kappa<span class="w"> </span>-1<span class="w"> </span>-1<span class="w">  </span><span class="m">1</span><span class="w"> </span>-2<span class="w"> </span>-1<span class="w">  </span><span class="m">1</span><span class="w"> </span>-2<span class="w">  </span><span class="m">2</span><span class="w"> </span>-1
Occup<span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">4</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">4</span><span class="w">  </span><span class="m">4</span><span class="w">  </span><span class="m">2</span>
Valen<span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">1</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<div class="highlight-udiff notranslate"><div class="highlight"><pre><span></span><span class="gd">--- /home/runner/work/emto-best-practices/emto-best-practices/content/exercise/solutions/00/kgrn/cu.dat</span>
<span class="gi">+++ /home/runner/work/emto-best-practices/emto-best-practices/content/exercise/solutions/04/kgrn/fecr_FM.dat</span>
<span class="gu">@@ -1,21 +1,21 @@</span>
<span class="w"> </span>KGRN                                               13 Oct 12
<span class="gd">-JOBNAM=cu </span>
<span class="gi">+JOBNAM=fecr_FM</span>
<span class="w"> </span>STRT..=  A MSGL.=  0 EXPAN.= S FCD..=  Y FUNC..= SCA
<span class="gd">-FOR001=../kstr/smx/fcc.tfh</span>
<span class="gd">-FOR001=../kstr/smx/fcc30.tfh</span>
<span class="gi">+FOR001=../kstr/smx/bcc.tfh</span>
<span class="gi">+FOR001=../kstr/smx/bcc30.tfh</span>
<span class="w"> </span>DIR002=pot/
<span class="w"> </span>DIR003=pot/
<span class="gd">-FOR004=../bmdl/mdl/fcc.mdl</span>
<span class="gi">+FOR004=../bmdl/mdl/bcc.mdl</span>
<span class="w"> </span>DIR006=
<span class="w"> </span>DIR009=pot/
<span class="w"> </span>DIR010=chd/
<span class="w"> </span>DIR011=/tmp/
<span class="gd">-Self-consistent KKR calculation for fcc Cu</span>
<span class="gi">+Self-consistent KKR calculation for bcc FeCrX</span>
<span class="w"> </span>Band: 10 lines
<span class="gd">-NITER.= 50 NLIN.= 31 NPRN.=  0 NCPA.=  7 NT...=  1 MNTA.=  1</span>
<span class="gd">-MODE..= 3D FRC..=  N DOS..=  N OPS..=  N AFM..=  P CRT..=  M</span>
<span class="gd">-Lmaxh.=  8 Lmaxt=  4 NFI..= 31 FIXG.=  2 SHF..=  0 SOFC.=  N</span>
<span class="gd">-KMSH...= G IBZ..=  2 NKX..=  0 NKY..= 13 NKZ..=  0 FBZ..=  N</span>
<span class="gi">+NITER.= 50 NLIN.= 31 NPRN.=  0 NCPA.=  7 NT...=  1 MNTA.=  2</span>
<span class="gi">+MODE..= 3D FRC..=  N DOS..=  N OPS..=  N AFM..=  F CRT..=  M</span>
<span class="gi">+Lmaxh.=  8 Lmaxt=  4 NFI..= 31 FIXG.=  2 SHF..=  0 SOFC.=  Y</span>
<span class="gi">+KMSH...= G IBZ..=  3 NKX..=  0 NKY..= 13 NKZ..=  0 FBZ..=  N</span>
<span class="w"> </span>KMSH2..= G IBZ2.=  1 NKX2.=  4 NKY2.=  0 NKZ2.= 51
<span class="w"> </span>ZMSH...= C NZ1..= 16 NZ2..=  8 NZ3..=  8 NRES.=  4 NZD.=1500
<span class="w"> </span>DEPTH..=  1.000 IMAGZ.=  0.020 EPS...=  0.200 ELIM..= -1.000
<span class="gu">@@ -25,15 +25,22 @@</span>
<span class="w"> </span>Setup: 2 + NQ*NS lines
<span class="w"> </span>EFGS...=  0.000 HX....=  0.100 NX...=  5 NZ0..=  6 STMP..= N
<span class="w"> </span>Symb   IQ IT ITA NZ  CONC   Sm(s)  S(ws) WS(wst) QTR SPLT Fix
<span class="gd">-Cu      1  1  1  29  1.000  1.000  1.000  1.000  0.0  0.0  N</span>
<span class="gi">+Fe      1  1  1  26  50.00  0.000  1.000  1.000  0.0  2.0  N</span>
<span class="gi">+Cr      1  1  2  24  50.00  0.000  1.000  1.000  0.0 -1.0  N</span>
<span class="w"> </span>Atom:  4 lines + NT*NTA*6 lines
<span class="w"> </span>IEX...=  4 NP..= 251 NES..= 15 NITER=100 IWAT.=  0 NPRNA=  0
<span class="w"> </span>VMIX.....=  0.300000 RWAT....=  3.500000 RMAX....= 20.000000
<span class="w"> </span>DX.......=  0.030000 DR1.....=  0.002000 TEST....=  1.00E-12
<span class="w"> </span>TESTE....=  1.00E-12 TESTY...=  1.00E-12 TESTV...=  1.00E-12
<span class="gd">-Cu</span>
<span class="gd">-Iz=  29 Norb= 10 Ion=  0 Config= 3d10_4s1</span>
<span class="gi">+Fe</span>
<span class="gi">+Iz=  26 Norb= 10 Ion=  0 Config= 3d7_4s1</span>
<span class="w"> </span>n      1  2  2  2  3  3  3  3  3  4
<span class="w"> </span>Kappa -1 -1  1 -2 -1  1 -2  2 -3 -1
<span class="gd">-Occup  2  2  2  4  2  2  4  4  6  1</span>
<span class="gi">+Occup  2  2  2  4  2  2  4  4  3  1</span>
<span class="w"> </span>Valen  0  0  0  0  0  0  0  1  1  1
<span class="gi">+Cr</span>
<span class="gi">+Iz=  24 Norb=  9 Ion=  0 Config= 3d4_4s2</span>
<span class="gi">+n      1  2  2  2  3  3  3  3  4</span>
<span class="gi">+Kappa -1 -1  1 -2 -1  1 -2  2 -1</span>
<span class="gi">+Occup  2  2  2  4  2  2  4  4  2</span>
<span class="gi">+Valen  0  0  0  0  0  0  0  1  1</span>
</pre></div>
</div>
</div>
<ul class="simple">
<li><p>kstr, bmdl, shape and kfcd input files</p></li>
</ul>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">The input file (kstr/bcc.dat)</span><a class="headerlink" href="#id3" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">KSTR</span>      <span class="n">HP</span><span class="o">......=</span><span class="n">N</span>                               <span class="mi">22</span> <span class="n">Jan</span> <span class="mi">08</span>
<span class="linenos"> 2</span><span class="n">JOBNAM</span><span class="o">...=</span><span class="n">bcc</span>        <span class="n">MSGL</span><span class="o">.=</span>  <span class="mi">1</span> <span class="n">MODE</span><span class="o">...=</span><span class="n">B</span> <span class="n">STORE</span><span class="o">..=</span><span class="n">Y</span> <span class="n">HIGH</span><span class="o">...=</span><span class="n">Y</span>
<span class="linenos"> 3</span><span class="n">DIR001</span><span class="o">=</span><span class="n">smx</span><span class="o">/</span>
<span class="linenos"> 4</span><span class="n">DIR006</span><span class="o">=</span>
<span class="linenos"> 5</span><span class="n">Slope</span> <span class="n">matrices</span><span class="p">,</span> <span class="n">bcc</span> <span class="p">(</span><span class="n">spdf</span><span class="p">),</span> <span class="p">(</span><span class="n">kappa</span><span class="o">*</span><span class="n">w</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">=</span> <span class="mf">0.0</span>
<span class="linenos"> 6</span><span class="n">NL</span><span class="o">.....=</span> <span class="mi">4</span> <span class="n">NLH</span><span class="o">...=</span><span class="mi">11</span> <span class="n">NLW</span><span class="o">...=</span> <span class="mi">9</span> <span class="n">NDER</span><span class="o">..=</span> <span class="mi">6</span> <span class="n">ITRANS</span><span class="o">=</span> <span class="mi">3</span> <span class="n">NPRN</span><span class="o">..=</span> <span class="mi">0</span>
<span class="linenos"> 7</span><span class="p">(</span><span class="n">K</span><span class="o">*</span><span class="n">W</span><span class="p">)</span><span class="o">^</span><span class="mf">2.</span><span class="o">.=</span>  <span class="mf">0.000000</span> <span class="n">DMAX</span><span class="o">....=</span>    <span class="mf">2.2000</span> <span class="n">RWATS</span><span class="o">...=</span>      <span class="mf">0.10</span>
<span class="linenos"> 8</span><span class="n">NQ3</span><span class="o">...=</span>  <span class="mi">1</span> <span class="n">LAT</span><span class="o">...=</span> <span class="mi">3</span> <span class="n">IPRIM</span><span class="o">.=</span> <span class="mi">0</span> <span class="n">NGHBP</span><span class="o">.=</span><span class="mi">13</span> <span class="n">NQR2</span><span class="o">..=</span> <span class="mi">0</span>
<span class="linenos"> 9</span><span class="n">A</span><span class="o">........=</span> <span class="mf">1.0000000</span> <span class="n">B</span><span class="o">.......=</span> <span class="mf">1.0000000</span> <span class="n">C</span><span class="o">.......=</span> <span class="mf">1.0000000</span>
<span class="linenos">10</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.5000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.5000000</span> <span class="n">BSZ</span><span class="o">.....=-</span><span class="mf">0.5000000</span>
<span class="linenos">11</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.5000000</span> <span class="n">BSY</span><span class="o">.....=-</span><span class="mf">0.5000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.5000000</span>
<span class="linenos">12</span><span class="n">BSX</span><span class="o">......=-</span><span class="mf">0.5000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.5000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.5000000</span>
<span class="linenos">13</span><span class="n">QX</span><span class="o">.......=</span> <span class="mf">0.0000000</span> <span class="n">QY</span><span class="o">......=</span> <span class="mf">0.0000000</span> <span class="n">QZ</span><span class="o">......=</span> <span class="mf">0.0000000</span>
<span class="linenos">14</span><span class="n">a</span><span class="o">/</span><span class="n">w</span><span class="o">......=</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span>
<span class="linenos">15</span><span class="n">LAMDA</span><span class="o">....=</span>    <span class="mf">2.5000</span> <span class="n">AMAX</span><span class="o">....=</span>    <span class="mf">4.5000</span> <span class="n">BMAX</span><span class="o">....=</span>    <span class="mf">4.5000</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">The input file (bmdl/bcc.dat)</span><a class="headerlink" href="#id4" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">BMDL</span>      <span class="n">HP</span><span class="o">......=</span><span class="n">N</span>                               <span class="mi">22</span> <span class="n">Jan</span> <span class="mi">08</span>
<span class="linenos"> 2</span><span class="n">JOBNAM</span><span class="o">...=</span><span class="n">bcc</span>        <span class="n">MSGL</span><span class="o">.=</span>  <span class="mi">1</span> <span class="n">NPRN</span><span class="o">.=</span>  <span class="mi">0</span>
<span class="linenos"> 3</span><span class="n">DIR001</span><span class="o">=</span><span class="n">mdl</span><span class="o">/</span>
<span class="linenos"> 4</span><span class="n">DIR006</span><span class="o">=</span>
<span class="linenos"> 5</span><span class="n">Madelung</span> <span class="n">potential</span> <span class="k">for</span> <span class="n">bcc</span> <span class="n">bulk</span> 
<span class="linenos"> 6</span><span class="n">NL</span><span class="o">.....=</span> <span class="mi">7</span>
<span class="linenos"> 7</span><span class="n">LAMDA</span><span class="o">....=</span>      <span class="mf">2.50</span> <span class="n">AMAX</span><span class="o">....=</span>      <span class="mf">4.50</span> <span class="n">BMAX</span><span class="o">....=</span>      <span class="mf">4.50</span>
<span class="linenos"> 8</span><span class="n">NQ</span><span class="o">....=</span>  <span class="mi">1</span> <span class="n">LAT</span><span class="o">...=</span> <span class="mi">3</span> <span class="n">IPRIM</span><span class="o">.=</span> <span class="mi">1</span> <span class="n">NQR2</span><span class="o">..=</span> <span class="mi">0</span>
<span class="linenos"> 9</span><span class="n">A</span><span class="o">........=</span>     <span class="mf">1.000</span> <span class="n">B</span><span class="o">.......=</span>     <span class="mf">1.000</span> <span class="n">C</span><span class="o">.......=</span>     <span class="mf">1.000</span>
<span class="linenos">10</span><span class="n">ALFA</span><span class="o">.....=</span>      <span class="mf">90.0</span> <span class="n">BETA</span><span class="o">....=</span>      <span class="mf">90.0</span> <span class="n">GAMMA</span><span class="o">...=</span>      <span class="mf">90.0</span>
<span class="linenos">11</span><span class="n">QX</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">....=</span>       <span class="mf">0.0</span> <span class="n">QY</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">...=</span>       <span class="mf">0.0</span> <span class="n">QZ</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">...=</span>       <span class="mf">0.0</span>
</pre></div>
</div>
</div>
</div>
<ul>
<li><p>run all calculations</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tree
<span class="w">  </span>.
├──<span class="w"> </span>bmdl
│<span class="w">   </span>├──<span class="w"> </span>bcc.dat
│<span class="w">   </span>└──<span class="w"> </span>mdl
├──<span class="w"> </span>kfcd
│<span class="w">   </span>└──<span class="w"> </span>fecr_FM.dat
├──<span class="w"> </span>kgrn
│<span class="w">   </span>├──<span class="w"> </span>chd
│<span class="w">   </span>├──<span class="w"> </span>fecr_FM.dat
│<span class="w">   </span>└──<span class="w"> </span>pot
├──<span class="w"> </span>kstr
│<span class="w">   </span>├──<span class="w"> </span>bcc.dat
│<span class="w">   </span>└──<span class="w"> </span>smx
└──<span class="w"> </span>shape
<span class="w">    </span>├──<span class="w"> </span>bcc.dat
<span class="w">    </span>└──<span class="w"> </span>shp

<span class="m">11</span><span class="w"> </span>directories,<span class="w"> </span><span class="m">5</span><span class="w"> </span>files
</pre></div>
</div>
<ul class="simple">
<li><p>check <code class="docutils literal notranslate"><span class="pre">NOS</span></code> from kgrn/fecr_FM.prn</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>grep<span class="w"> </span>-H<span class="w"> </span>NOS<span class="w"> </span>*.prn
fecr_FM.prn:<span class="w"> </span>KKRFCD:<span class="w"> </span>NOS<span class="o">(</span>Ef<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w">      </span><span class="m">7</span>.000025<span class="w"> </span><span class="nv">ELT</span><span class="w"> </span><span class="o">=</span><span class="w">      </span><span class="m">7</span>.000000
fecr_FM.prn:<span class="w"> </span>KKRFCD:<span class="w"> </span>NOS<span class="o">(</span>Ef<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w">      </span><span class="m">7</span>.000025<span class="w"> </span><span class="nv">ELT</span><span class="w"> </span><span class="o">=</span><span class="w">      </span><span class="m">7</span>.000000
</pre></div>
</div>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<p>increase <code class="docutils literal notranslate"><span class="pre">NCPA</span></code> to make sure cpa loop converged</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/NCPA.=  7/NCPA.= 17/&#39;</span><span class="w"> </span>fecr_FM.dat
</pre></div>
</div>
</div>
</li>
</ul>
</section>
<section id="create-input-files-with-different-volumes-for-each-fe-1-x-cr-x">
<h5>create input files with different volumes for each <span class="math notranslate nohighlight">\(Fe_{(1-x)}Cr_x\)</span><a class="headerlink" href="#create-input-files-with-different-volumes-for-each-fe-1-x-cr-x" title="Link to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="ch">#! /bin/bash</span>
<span class="linenos"> 2</span><span class="c1"># generate kgrn and kfcd input files based on kgrn/fecr_FM.dat</span>
<span class="linenos"> 3</span><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="sb">`</span>seq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">10</span><span class="sb">`</span><span class="w">  </span><span class="sb">`</span>seq<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">90</span><span class="sb">`</span><span class="w"> </span><span class="m">100</span>
<span class="linenos"> 4</span><span class="k">do</span>
<span class="linenos"> 5</span><span class="w">  </span><span class="nv">cr</span><span class="o">=</span><span class="k">$(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%03d&quot;</span><span class="w"> </span><span class="nv">$i</span><span class="k">)</span>
<span class="linenos"> 6</span><span class="w">  </span><span class="nv">fe</span><span class="o">=</span><span class="k">$(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%03d&quot;</span><span class="w"> </span><span class="k">$((</span><span class="m">100</span><span class="o">-</span><span class="nv">i</span><span class="k">)))</span>
<span class="linenos"> 7</span><span class="w">  </span><span class="nv">folder</span><span class="o">=</span>FM/FeCr<span class="nv">$cr</span>
<span class="linenos"> 8</span><span class="w">  </span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$folder</span>/<span class="o">{</span>kgrn,kfcd<span class="o">}</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="w">  </span>ln<span class="w"> </span>-s<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/kstr<span class="w">  </span><span class="nv">$folder</span>/kstr
<span class="linenos">11</span><span class="w">  </span>ln<span class="w"> </span>-s<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/bmdl<span class="w">  </span><span class="nv">$folder</span>/bmdl
<span class="linenos">12</span><span class="w">  </span>ln<span class="w"> </span>-s<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/shape<span class="w"> </span><span class="nv">$folder</span>/shape
<span class="linenos">13</span>
<span class="linenos">14</span><span class="w">  </span><span class="k">for</span><span class="w"> </span>sws<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="sb">`</span>seq<span class="w"> </span><span class="m">2</span>.59<span class="w"> </span><span class="m">0</span>.02<span class="w"> </span><span class="m">2</span>.69<span class="sb">`</span>
<span class="linenos">15</span><span class="w">  </span><span class="k">do</span>
<span class="linenos">16</span><span class="w">        </span><span class="c1"># -e &quot;s/NCPA.=.../NCPA.= 17/&quot;  \</span>
<span class="linenos">17</span><span class="w">        </span><span class="c1"># -e &quot;s/NKY..=.../NKY..= 21/&quot; \</span>
<span class="linenos">18</span><span class="w">    </span>sed<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;s/JOBNAM=.*/JOBNAM=fecr-</span><span class="nv">$sws</span><span class="s2">/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="linenos">19</span><span class="w">        </span>-e<span class="w"> </span><span class="s2">&quot;28 s/ 50.00/</span><span class="nv">$fe</span><span class="s2">.00/&quot;</span><span class="w">  </span><span class="se">\</span>
<span class="linenos">20</span><span class="w">        </span>-e<span class="w"> </span><span class="s2">&quot;29 s/ 50.00/</span><span class="nv">$cr</span><span class="s2">.00/&quot;</span><span class="w">  </span><span class="se">\</span>
<span class="linenos">21</span><span class="w">        </span>-e<span class="w"> </span><span class="s2">&quot;s/SWS......=......../SWS......=</span><span class="si">${</span><span class="nv">sws</span><span class="si">}</span><span class="s2">0000/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="linenos">22</span><span class="w">        </span>kgrn/fecr_FM.dat<span class="w"> </span>&gt;<span class="w"> </span><span class="nv">$folder</span>/kgrn/fecr-<span class="nv">$sws</span>.dat
<span class="linenos">23</span>
<span class="linenos">24</span><span class="w">    </span>sed<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;s/JOBNAM...=.*/JOBNAM...=fecr-</span><span class="nv">$sws</span><span class="s2">/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="linenos">25</span><span class="w">        </span>kfcd/fecr_FM.dat<span class="w"> </span>&gt;<span class="w"> </span><span class="nv">$folder</span>/kfcd/fecr-<span class="nv">$sws</span>.dat
<span class="linenos">26</span><span class="w">  </span><span class="k">done</span>
<span class="linenos">27</span><span class="k">done</span>
</pre></div>
</div>
<ul>
<li><p>get equilibrium state for each concentration.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Eos.sh<span class="w"> </span>FeCr*<span class="w"> </span>&gt;<span class="w"> </span>eos
cat<span class="w"> </span>eos
</pre></div>
</div>
</li>
</ul>
</section>
</section>
</section>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://journals.aps.org/prb/abstract/10.1103/PhysRevB.73.104416"> Electronic origin of the anomalous stability of Fe-rich bcc Fe-Cr alloys </a></p>
</aside>
</aside>
<span id="document-exercise/solutions/05/readme"></span><section id="exercise-05-mixing-enthalpy-for-bcc-fecrx-alloy-pm">
<h3>exercise/05: Mixing enthalpy for bcc FeCrx alloy: PM<a class="headerlink" href="#exercise-05-mixing-enthalpy-for-bcc-fecrx-alloy-pm" title="Link to this heading"></a></h3>
<p>In this exercise we will practice how to treat magnetic disorder with CPA.
It is the same story as exercise/04<a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>, but here we treat the system within paramagnetic (PM) state.</p>
<div class="math notranslate nohighlight">
\[H = E_{Fe^\uparrow_{(1-x/2)}Fe^\downarrow_{(1-x/2)}Cr^\uparrow_{x/2}Cr^\downarrow_{x/2} } - ( 1-x )E_{Fe^\uparrow_{50}Fe^\downarrow_{50}} - x E_{Cr^\uparrow_{50}Cr^\downarrow_{50}}\]</div>
<ul>
<li><p>copy kgrn and kfcd input form exercise/04 and reuse its kstr, bmdl and shape.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>-r<span class="w"> </span>../04/<span class="o">{</span>kgrn,kfcd<span class="o">}</span><span class="w"> </span><span class="m">05</span>/
<span class="nb">cd</span><span class="w"> </span><span class="m">05</span>
ln<span class="w"> </span>-s<span class="w"> </span>../04/kstr
ln<span class="w"> </span>-s<span class="w"> </span>../04/bmdl
ln<span class="w"> </span>-s<span class="w"> </span>../04/shape
cp<span class="w"> </span>kgrn/<span class="o">{</span>fecr_FM,fecr_PM<span class="o">}</span>.dat
cp<span class="w"> </span>kfcd/<span class="o">{</span>fecr_FM,fecr_PM<span class="o">}</span>.dat
</pre></div>
</div>
</li>
<li><p>spin <span class="math notranslate nohighlight">\(\uparrow\)</span> and <span class="math notranslate nohighlight">\(\downarrow\)</span> as “alloy components”.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">split the components to half in kgrn input</span><a class="headerlink" href="#id3" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">27</span><span class="n">Symb</span>   <span class="n">IQ</span> <span class="n">IT</span> <span class="n">ITA</span> <span class="n">NZ</span>  <span class="n">CONC</span>   <span class="n">Sm</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>  <span class="n">S</span><span class="p">(</span><span class="n">ws</span><span class="p">)</span> <span class="n">WS</span><span class="p">(</span><span class="n">wst</span><span class="p">)</span> <span class="n">QTR</span> <span class="n">SPLT</span> <span class="n">Fix</span>
<span class="linenos">28</span><span class="n">Fe</span>      <span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">26</span>  <span class="mf">25.00</span>  <span class="mf">0.000</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">0.0</span>  <span class="mf">2.0</span>  <span class="n">N</span>
<span class="linenos">29</span><span class="n">Fe</span>      <span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">26</span>  <span class="mf">25.00</span>  <span class="mf">0.000</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">0.0</span> <span class="o">-</span><span class="mf">2.0</span>  <span class="n">N</span>
<span class="linenos">30</span><span class="n">Cr</span>      <span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">3</span>  <span class="mi">24</span>  <span class="mf">25.00</span>  <span class="mf">0.000</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">0.0</span> <span class="o">-</span><span class="mf">1.0</span>  <span class="n">N</span>
<span class="linenos">31</span><span class="n">Cr</span>      <span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">4</span>  <span class="mi">24</span>  <span class="mf">25.00</span>  <span class="mf">0.000</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">0.0</span>  <span class="mf">1.0</span>  <span class="n">N</span>
</pre></div>
</div>
</div>
<ul class="simple">
<li><p>remember change <code class="docutils literal notranslate"><span class="pre">MNTA.=</span>&#160; <span class="pre">4</span></code>.</p></li>
</ul>
</li>
<li><p>add “atomic config” for the extra components.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">37</span><span class="n">Fe</span>
<span class="linenos">38</span><span class="n">Iz</span><span class="o">=</span>  <span class="mi">26</span> <span class="n">Norb</span><span class="o">=</span> <span class="mi">10</span> <span class="n">Ion</span><span class="o">=</span>  <span class="mi">0</span> <span class="n">Config</span><span class="o">=</span> <span class="mi">3</span><span class="n">d7_4s1</span>
<span class="linenos">39</span><span class="n">n</span>      <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">4</span>
<span class="linenos">40</span><span class="n">Kappa</span> <span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">1</span> <span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">1</span> <span class="o">-</span><span class="mi">2</span>  <span class="mi">2</span> <span class="o">-</span><span class="mi">3</span> <span class="o">-</span><span class="mi">1</span>
<span class="linenos">41</span><span class="n">Occup</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">4</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">4</span>  <span class="mi">4</span>  <span class="mi">3</span>  <span class="mi">1</span>
<span class="linenos">42</span><span class="n">Valen</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">1</span>
<span class="linenos">43</span><span class="n">Fe</span>
<span class="linenos">44</span><span class="n">Iz</span><span class="o">=</span>  <span class="mi">26</span> <span class="n">Norb</span><span class="o">=</span> <span class="mi">10</span> <span class="n">Ion</span><span class="o">=</span>  <span class="mi">0</span> <span class="n">Config</span><span class="o">=</span> <span class="mi">3</span><span class="n">d7_4s1</span>
<span class="linenos">45</span><span class="n">n</span>      <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">4</span>
<span class="linenos">46</span><span class="n">Kappa</span> <span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">1</span> <span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">1</span> <span class="o">-</span><span class="mi">2</span>  <span class="mi">2</span> <span class="o">-</span><span class="mi">3</span> <span class="o">-</span><span class="mi">1</span>
<span class="linenos">47</span><span class="n">Occup</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">4</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">4</span>  <span class="mi">4</span>  <span class="mi">3</span>  <span class="mi">1</span>
<span class="linenos">48</span><span class="n">Valen</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">1</span>
<span class="linenos">49</span><span class="n">Cr</span>
<span class="linenos">50</span><span class="n">Iz</span><span class="o">=</span>  <span class="mi">24</span> <span class="n">Norb</span><span class="o">=</span>  <span class="mi">9</span> <span class="n">Ion</span><span class="o">=</span>  <span class="mi">0</span> <span class="n">Config</span><span class="o">=</span> <span class="mi">3</span><span class="n">d4_4s2</span>
<span class="linenos">51</span><span class="n">n</span>      <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">4</span>
<span class="linenos">52</span><span class="n">Kappa</span> <span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">1</span> <span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">1</span> <span class="o">-</span><span class="mi">2</span>  <span class="mi">2</span> <span class="o">-</span><span class="mi">1</span>
<span class="linenos">53</span><span class="n">Occup</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">4</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">4</span>  <span class="mi">4</span>  <span class="mi">2</span>
<span class="linenos">54</span><span class="n">Valen</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">1</span>
<span class="linenos">55</span><span class="n">Cr</span>
<span class="linenos">56</span><span class="n">Iz</span><span class="o">=</span>  <span class="mi">24</span> <span class="n">Norb</span><span class="o">=</span>  <span class="mi">9</span> <span class="n">Ion</span><span class="o">=</span>  <span class="mi">0</span> <span class="n">Config</span><span class="o">=</span> <span class="mi">3</span><span class="n">d4_4s2</span>
<span class="linenos">57</span><span class="n">n</span>      <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">4</span>
<span class="linenos">58</span><span class="n">Kappa</span> <span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">1</span> <span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">1</span> <span class="o">-</span><span class="mi">2</span>  <span class="mi">2</span> <span class="o">-</span><span class="mi">1</span>
<span class="linenos">59</span><span class="n">Occup</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">4</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">4</span>  <span class="mi">4</span>  <span class="mi">2</span>
<span class="linenos">60</span><span class="n">Valen</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">1</span>
</pre></div>
</div>
</li>
<li><p>calculations and results processing are same as exercise/04</p></li>
</ul>
</section>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://journals.aps.org/prb/abstract/10.1103/PhysRevB.73.104416"> Electronic origin of the anomalous stability of Fe-rich bcc Fe-Cr alloys </a></p>
</aside>
</aside>
<span id="document-exercise/solutions/06/readme"></span><section id="exercise-06-diamond">
<h3>exercise/06 diamond<a class="headerlink" href="#exercise-06-diamond" title="Link to this heading"></a></h3>
<p>Carbon in <a class="reference external" href="https://www.aflow.org/prototype-encyclopedia/A_cF8_227_a.html">A4</a> structure.</p>
<p>2 Fcc lattice shift along the diagonal from (0,0,0) to (1/4,1/4,1/4)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">KSTR</span>      <span class="n">HP</span><span class="o">......=</span><span class="n">N</span>                               <span class="mi">22</span> <span class="n">Jan</span> <span class="mi">08</span>
<span class="linenos"> 2</span><span class="n">JOBNAM</span><span class="o">...=</span><span class="n">A4</span>         <span class="n">MSGL</span><span class="o">.=</span>  <span class="mi">1</span> <span class="n">MODE</span><span class="o">...=</span><span class="n">B</span> <span class="n">STORE</span><span class="o">..=</span><span class="n">Y</span> <span class="n">HIGH</span><span class="o">...=</span><span class="n">Y</span>
<span class="linenos"> 3</span><span class="n">DIR001</span><span class="o">=</span><span class="n">smx</span><span class="o">/</span>
<span class="linenos"> 4</span><span class="n">DIR006</span><span class="o">=./</span>
<span class="linenos"> 5</span><span class="n">Slope</span> <span class="n">matrices</span><span class="p">,</span> <span class="n">l21</span> <span class="p">(</span><span class="n">spdf</span><span class="p">),</span> <span class="p">(</span><span class="n">kappa</span><span class="o">*</span><span class="n">w</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">=</span> <span class="mf">0.0</span>
<span class="linenos"> 6</span><span class="n">NL</span><span class="o">.....=</span> <span class="mi">3</span> <span class="n">NLH</span><span class="o">...=</span><span class="mi">11</span> <span class="n">NLW</span><span class="o">...=</span> <span class="mi">9</span> <span class="n">NDER</span><span class="o">..=</span> <span class="mi">6</span> <span class="n">ITRANS</span><span class="o">=</span> <span class="mi">3</span> <span class="n">NPRN</span><span class="o">..=</span> <span class="mi">0</span>
<span class="linenos"> 7</span><span class="p">(</span><span class="n">K</span><span class="o">*</span><span class="n">W</span><span class="p">)</span><span class="o">^</span><span class="mf">2.</span><span class="o">.=</span>  <span class="mf">0.000000</span> <span class="n">DMAX</span><span class="o">....=</span>    <span class="mf">1.0980</span> <span class="n">RWATS</span><span class="o">...=</span>      <span class="mf">0.10</span>
<span class="linenos"> 8</span><span class="n">NQ3</span><span class="o">...=</span>  <span class="mi">2</span> <span class="n">LAT</span><span class="o">...=</span> <span class="mi">2</span> <span class="n">IPRIM</span><span class="o">.=</span> <span class="mi">0</span> <span class="n">NGHBP</span><span class="o">.=</span><span class="mi">13</span> <span class="n">NQR2</span><span class="o">..=</span> <span class="mi">0</span>
<span class="linenos"> 9</span><span class="n">A</span><span class="o">........=</span> <span class="mf">1.0000000</span> <span class="n">B</span><span class="o">.......=</span> <span class="mf">1.0000000</span> <span class="n">C</span><span class="o">.......=</span> <span class="mf">1.0000000</span>
<span class="linenos">10</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.5000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.5000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.0000000</span>
<span class="linenos">11</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.0000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.5000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.5000000</span>
<span class="linenos">12</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.5000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.0000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.5000000</span>
<span class="linenos">13</span><span class="n">QX</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">...=</span> <span class="mf">0.0000000</span> <span class="n">QY</span><span class="o">......=</span> <span class="mf">0.0000000</span> <span class="n">QZ</span><span class="o">......=</span> <span class="mf">0.0000000</span>
<span class="linenos">14</span><span class="n">QX</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">...=</span> <span class="mf">0.2500000</span> <span class="n">QY</span><span class="o">......=</span> <span class="mf">0.2500000</span> <span class="n">QZ</span><span class="o">......=</span> <span class="mf">0.2500000</span>
<span class="linenos">15</span><span class="n">a</span><span class="o">/</span><span class="n">w</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">..=</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span>
<span class="linenos">16</span><span class="n">a</span><span class="o">/</span><span class="n">w</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">..=</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span>
<span class="linenos">17</span><span class="n">LAMDA</span><span class="o">....=</span>    <span class="mf">2.5000</span> <span class="n">AMAX</span><span class="o">....=</span>    <span class="mf">4.5000</span> <span class="n">BMAX</span><span class="o">....=</span>    <span class="mf">4.5000</span>
</pre></div>
</div>
<p>Run kstr for this A4 structure, check the output file if there are some warnings.
Will be problem ?</p>
<p>How about we also fill up the (1/2,1/2,1/2) and (3/4,3/4,3/4), <a class="reference external" href="https://aflow.org/prototype-encyclopedia/AB2C_cF16_225_a_c_b.html">what lattice</a> it should be?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">KSTR</span>      <span class="n">HP</span><span class="o">......=</span><span class="n">N</span>                               <span class="mi">22</span> <span class="n">Jan</span> <span class="mi">08</span>
<span class="linenos"> 2</span><span class="n">JOBNAM</span><span class="o">...=</span><span class="n">L21</span>        <span class="n">MSGL</span><span class="o">.=</span>  <span class="mi">1</span> <span class="n">MODE</span><span class="o">...=</span><span class="n">B</span> <span class="n">STORE</span><span class="o">..=</span><span class="n">Y</span> <span class="n">HIGH</span><span class="o">...=</span><span class="n">Y</span>
<span class="linenos"> 3</span><span class="n">DIR001</span><span class="o">=</span><span class="n">smx</span><span class="o">/</span>
<span class="linenos"> 4</span><span class="n">DIR006</span><span class="o">=./</span>
<span class="linenos"> 5</span><span class="n">Slope</span> <span class="n">matrices</span><span class="p">,</span> <span class="n">l21</span> <span class="p">(</span><span class="n">spdf</span><span class="p">),</span> <span class="p">(</span><span class="n">kappa</span><span class="o">*</span><span class="n">w</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">=</span> <span class="mf">0.0</span>
<span class="linenos"> 6</span><span class="n">NL</span><span class="o">.....=</span> <span class="mi">3</span> <span class="n">NLH</span><span class="o">...=</span><span class="mi">11</span> <span class="n">NLW</span><span class="o">...=</span> <span class="mi">9</span> <span class="n">NDER</span><span class="o">..=</span> <span class="mi">6</span> <span class="n">ITRANS</span><span class="o">=</span> <span class="mi">3</span> <span class="n">NPRN</span><span class="o">..=</span> <span class="mi">0</span>
<span class="linenos"> 7</span><span class="p">(</span><span class="n">K</span><span class="o">*</span><span class="n">W</span><span class="p">)</span><span class="o">^</span><span class="mf">2.</span><span class="o">.=</span>  <span class="mf">0.000000</span> <span class="n">DMAX</span><span class="o">....=</span>    <span class="mf">1.0980</span> <span class="n">RWATS</span><span class="o">...=</span>      <span class="mf">0.10</span>
<span class="linenos"> 8</span><span class="n">NQ3</span><span class="o">...=</span>  <span class="mi">4</span> <span class="n">LAT</span><span class="o">...=</span> <span class="mi">2</span> <span class="n">IPRIM</span><span class="o">.=</span> <span class="mi">0</span> <span class="n">NGHBP</span><span class="o">.=</span><span class="mi">13</span> <span class="n">NQR2</span><span class="o">..=</span> <span class="mi">0</span>
<span class="linenos"> 9</span><span class="n">A</span><span class="o">........=</span> <span class="mf">1.0000000</span> <span class="n">B</span><span class="o">.......=</span> <span class="mf">1.0000000</span> <span class="n">C</span><span class="o">.......=</span> <span class="mf">1.0000000</span>
<span class="linenos">10</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.5000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.5000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.0000000</span>
<span class="linenos">11</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.0000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.5000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.5000000</span>
<span class="linenos">12</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.5000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.0000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.5000000</span>
<span class="linenos">13</span><span class="n">QX</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">...=</span> <span class="mf">0.0000000</span> <span class="n">QY</span><span class="o">......=</span> <span class="mf">0.0000000</span> <span class="n">QZ</span><span class="o">......=</span> <span class="mf">0.0000000</span>
<span class="linenos">14</span><span class="n">QX</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">...=</span> <span class="mf">0.2500000</span> <span class="n">QY</span><span class="o">......=</span> <span class="mf">0.2500000</span> <span class="n">QZ</span><span class="o">......=</span> <span class="mf">0.2500000</span>
<span class="linenos">15</span><span class="n">QX</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">...=</span> <span class="mf">0.5000000</span> <span class="n">QY</span><span class="o">......=</span> <span class="mf">0.5000000</span> <span class="n">QZ</span><span class="o">......=</span> <span class="mf">0.5000000</span>
<span class="linenos">16</span><span class="n">QX</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">...=</span> <span class="mf">0.7500000</span> <span class="n">QY</span><span class="o">......=</span> <span class="mf">0.7500000</span> <span class="n">QZ</span><span class="o">......=</span> <span class="mf">0.7500000</span>
<span class="linenos">17</span><span class="n">a</span><span class="o">/</span><span class="n">w</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">..=</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span>
<span class="linenos">18</span><span class="n">a</span><span class="o">/</span><span class="n">w</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">..=</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span>
<span class="linenos">19</span><span class="n">a</span><span class="o">/</span><span class="n">w</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">..=</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span>
<span class="linenos">20</span><span class="n">a</span><span class="o">/</span><span class="n">w</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">..=</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span>
<span class="linenos">21</span><span class="n">LAMDA</span><span class="o">....=</span>    <span class="mf">2.5000</span> <span class="n">AMAX</span><span class="o">....=</span>    <span class="mf">4.5000</span> <span class="n">BMAX</span><span class="o">....=</span>    <span class="mf">4.5000</span>
</pre></div>
</div>
<p>Check the <code class="docutils literal notranslate"><span class="pre">CMDL</span></code> value from its output, and compare with bcc (exercise/04/kstr/bcc.prn)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>grep<span class="w"> </span>CMDL<span class="w"> </span>L21.prn
grep<span class="w"> </span>../04/kstr/bcc.prn
</pre></div>
</div>
<p>Let’s use this more “close packed” structure for diamond</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">KGRN</span>                                               <span class="mi">13</span> <span class="n">Oct</span> <span class="mi">12</span>
<span class="linenos"> 2</span><span class="n">JOBNAM</span><span class="o">=</span><span class="n">c</span>
<span class="linenos"> 3</span><span class="n">STRT</span><span class="o">..=</span>  <span class="n">A</span> <span class="n">MSGL</span><span class="o">.=</span>  <span class="mi">0</span> <span class="n">EXPAN</span><span class="o">.=</span> <span class="n">M</span> <span class="n">FCD</span><span class="o">..=</span>  <span class="n">Y</span> <span class="n">FUNC</span><span class="o">..=</span> <span class="n">SCA</span>
<span class="linenos"> 4</span><span class="n">FOR001</span><span class="o">=../</span><span class="n">kstr</span><span class="o">/</span><span class="n">smx</span><span class="o">/</span><span class="n">L21</span><span class="o">.</span><span class="n">tfh</span>
<span class="linenos"> 5</span><span class="n">FOR001</span><span class="o">=../</span><span class="n">kstr</span><span class="o">/</span><span class="n">smx</span><span class="o">/</span><span class="n">L21p</span><span class="o">.</span><span class="n">tfh</span>
<span class="linenos"> 6</span><span class="n">DIR002</span><span class="o">=</span><span class="n">pot</span><span class="o">/</span>
<span class="linenos"> 7</span><span class="n">DIR003</span><span class="o">=</span><span class="n">pot</span><span class="o">/</span>
<span class="linenos"> 8</span><span class="n">FOR004</span><span class="o">=../</span><span class="n">bmdl</span><span class="o">/</span><span class="n">mdl</span><span class="o">/</span><span class="n">L21</span><span class="o">.</span><span class="n">mdl</span>
<span class="linenos"> 9</span><span class="n">DIR006</span><span class="o">=</span>
<span class="linenos">10</span><span class="n">DIR009</span><span class="o">=</span><span class="n">pot</span><span class="o">/</span>
<span class="linenos">11</span><span class="n">DIR010</span><span class="o">=</span><span class="n">chd</span><span class="o">/</span>
<span class="linenos">12</span><span class="n">DIR011</span><span class="o">=/</span><span class="n">tmp</span><span class="o">/</span>
<span class="linenos">13</span><span class="n">Self</span><span class="o">-</span><span class="n">consistent</span> <span class="n">KKR</span> <span class="n">calculation</span> <span class="k">for</span> <span class="n">A4</span> <span class="n">C</span>
<span class="linenos">14</span><span class="n">Band</span><span class="p">:</span> <span class="mi">10</span> <span class="n">lines</span>
<span class="linenos">15</span><span class="n">NITER</span><span class="o">.=</span> <span class="mi">50</span> <span class="n">NLIN</span><span class="o">.=</span> <span class="mi">31</span> <span class="n">NPRN</span><span class="o">.=</span>  <span class="mi">0</span> <span class="n">NCPA</span><span class="o">.=</span>  <span class="mi">7</span> <span class="n">NT</span><span class="o">...=</span>  <span class="mi">4</span> <span class="n">MNTA</span><span class="o">.=</span>  <span class="mi">1</span>
<span class="linenos">16</span><span class="n">MODE</span><span class="o">..=</span> <span class="mi">3</span><span class="n">D</span> <span class="n">FRC</span><span class="o">..=</span>  <span class="n">N</span> <span class="n">DOS</span><span class="o">..=</span>  <span class="n">N</span> <span class="n">OPS</span><span class="o">..=</span>  <span class="n">N</span> <span class="n">AFM</span><span class="o">..=</span>  <span class="n">P</span> <span class="n">CRT</span><span class="o">..=</span>  <span class="n">I</span>
<span class="linenos">17</span><span class="n">Lmaxh</span><span class="o">.=</span>  <span class="mi">8</span> <span class="n">Lmaxt</span><span class="o">=</span>  <span class="mi">3</span> <span class="n">NFI</span><span class="o">..=</span> <span class="mi">31</span> <span class="n">FIXG</span><span class="o">.=</span>  <span class="mi">2</span> <span class="n">SHF</span><span class="o">..=</span>  <span class="mi">0</span> <span class="n">SOFC</span><span class="o">.=</span>  <span class="n">Y</span>
<span class="linenos">18</span><span class="n">KMSH</span><span class="o">...=</span> <span class="n">G</span> <span class="n">IBZ</span><span class="o">..=</span>  <span class="mi">2</span> <span class="n">NKX</span><span class="o">..=</span>  <span class="mi">0</span> <span class="n">NKY</span><span class="o">..=</span> <span class="mi">13</span> <span class="n">NKZ</span><span class="o">..=</span>  <span class="mi">0</span> <span class="n">FBZ</span><span class="o">..=</span>  <span class="n">N</span>
<span class="linenos">19</span><span class="n">KMSH2</span><span class="o">..=</span> <span class="n">G</span> <span class="n">IBZ2</span><span class="o">.=</span>  <span class="mi">1</span> <span class="n">NKX2</span><span class="o">.=</span>  <span class="mi">4</span> <span class="n">NKY2</span><span class="o">.=</span>  <span class="mi">0</span> <span class="n">NKZ2</span><span class="o">.=</span> <span class="mi">51</span>
<span class="linenos">20</span><span class="n">ZMSH</span><span class="o">...=</span> <span class="n">C</span> <span class="n">NZ1</span><span class="o">..=</span> <span class="mi">32</span> <span class="n">NZ2</span><span class="o">..=</span>  <span class="mi">8</span> <span class="n">NZ3</span><span class="o">..=</span>  <span class="mi">8</span> <span class="n">NRES</span><span class="o">.=</span>  <span class="mi">4</span> <span class="n">NZD</span><span class="o">.=</span> <span class="mi">800</span>
<span class="linenos">21</span><span class="n">DEPTH</span><span class="o">..=</span>  <span class="mf">2.000</span> <span class="n">IMAGZ</span><span class="o">.=</span>  <span class="mf">0.020</span> <span class="n">EPS</span><span class="o">...=</span>  <span class="mf">0.200</span> <span class="n">ELIM</span><span class="o">..=</span> <span class="o">-</span><span class="mf">1.000</span>
<span class="linenos">22</span><span class="n">AMIX</span><span class="o">...=</span>  <span class="mf">0.050</span> <span class="n">EFMIX</span><span class="o">.=</span>  <span class="mf">1.000</span> <span class="n">VMTZ</span><span class="o">..=</span>  <span class="mf">0.000</span> <span class="n">MMOM</span><span class="o">..=</span>  <span class="mf">0.000</span>
<span class="linenos">23</span><span class="n">TOLE</span><span class="o">...=</span> <span class="mf">1.</span><span class="n">d</span><span class="o">-</span><span class="mi">07</span> <span class="n">TOLEF</span><span class="o">.=</span> <span class="mf">1.</span><span class="n">d</span><span class="o">-</span><span class="mi">07</span> <span class="n">TOLCPA</span><span class="o">=</span> <span class="mf">1.</span><span class="n">d</span><span class="o">-</span><span class="mi">06</span> <span class="n">TFERMI</span><span class="o">=</span>  <span class="mf">500.0</span> <span class="p">(</span><span class="n">K</span><span class="p">)</span>
<span class="linenos">24</span><span class="n">SWS</span><span class="o">......=</span><span class="mf">1.650000</span>   <span class="n">NSWS</span><span class="o">.=</span>  <span class="mi">1</span> <span class="n">DSWS</span><span class="o">..=</span>   <span class="mf">0.05</span> <span class="n">ALPCPA</span><span class="o">=</span> <span class="mf">0.6020</span>
<span class="linenos">25</span><span class="n">Setup</span><span class="p">:</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">NQ</span><span class="o">*</span><span class="n">NS</span> <span class="n">lines</span>
<span class="linenos">26</span><span class="n">EFGS</span><span class="o">...=</span>  <span class="mf">0.000</span> <span class="n">HX</span><span class="o">....=</span>  <span class="mf">0.200</span> <span class="n">NX</span><span class="o">...=</span>  <span class="mi">5</span> <span class="n">NZ0</span><span class="o">..=</span> <span class="mi">16</span> <span class="n">STMP</span><span class="o">..=</span> <span class="n">A</span>
<span class="linenos">27</span><span class="n">Symb</span>   <span class="n">IQ</span> <span class="n">IT</span> <span class="n">ITA</span> <span class="n">NZ</span>  <span class="n">CONC</span>   <span class="n">Sm</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>  <span class="n">S</span><span class="p">(</span><span class="n">ws</span><span class="p">)</span> <span class="n">WS</span><span class="p">(</span><span class="n">wst</span><span class="p">)</span> <span class="n">QTR</span> <span class="n">SPLT</span> <span class="n">Fix</span>
<span class="linenos">28</span><span class="n">C</span>       <span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">1</span>   <span class="mi">6</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">0.0</span>  <span class="mf">0.0</span>  <span class="n">N</span>
<span class="linenos">29</span><span class="n">C</span>       <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">1</span>   <span class="mi">6</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">0.0</span>  <span class="mf">0.0</span>  <span class="n">N</span>
<span class="linenos">30</span><span class="n">Em</span>      <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">1</span>   <span class="mi">0</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">0.0</span>  <span class="mf">0.0</span>  <span class="n">N</span>
<span class="linenos">31</span><span class="n">Em</span>      <span class="mi">4</span>  <span class="mi">4</span>  <span class="mi">1</span>   <span class="mi">0</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">0.0</span>  <span class="mf">0.0</span>  <span class="n">N</span>
<span class="linenos">32</span><span class="n">Atom</span><span class="p">:</span>  <span class="mi">4</span> <span class="n">lines</span> <span class="o">+</span> <span class="n">NT</span><span class="o">*</span><span class="n">NTA</span><span class="o">*</span><span class="mi">6</span> <span class="n">lines</span>
<span class="linenos">33</span><span class="n">IEX</span><span class="o">...=</span>  <span class="mi">4</span> <span class="n">NP</span><span class="o">..=</span> <span class="mi">251</span> <span class="n">NES</span><span class="o">..=</span> <span class="mi">15</span> <span class="n">NITER</span><span class="o">=</span><span class="mi">100</span> <span class="n">IWAT</span><span class="o">.=</span>  <span class="mi">0</span> <span class="n">NPRNA</span><span class="o">=</span>  <span class="mi">0</span>
<span class="linenos">34</span><span class="n">VMIX</span><span class="o">.....=</span>  <span class="mf">0.300000</span> <span class="n">RWAT</span><span class="o">....=</span>  <span class="mf">3.500000</span> <span class="n">RMAX</span><span class="o">....=</span> <span class="mf">20.000000</span>
<span class="linenos">35</span><span class="n">DX</span><span class="o">.......=</span>  <span class="mf">0.030000</span> <span class="n">DR1</span><span class="o">.....=</span>  <span class="mf">0.002000</span> <span class="n">TEST</span><span class="o">....=</span>  <span class="mf">1.00E-12</span>
<span class="linenos">36</span><span class="n">TESTE</span><span class="o">....=</span>  <span class="mf">1.00E-12</span> <span class="n">TESTY</span><span class="o">...=</span>  <span class="mf">1.00E-12</span> <span class="n">TESTV</span><span class="o">...=</span>  <span class="mf">1.00E-12</span>
<span class="linenos">37</span><span class="n">C</span>
<span class="linenos">38</span><span class="n">Iz</span><span class="o">=</span>   <span class="mi">6</span> <span class="n">Norb</span><span class="o">=</span>  <span class="mi">3</span> <span class="n">Ion</span><span class="o">=</span>  <span class="mi">0</span> <span class="n">Config</span><span class="o">=</span> <span class="mi">2</span><span class="n">s2</span> <span class="mi">2</span><span class="n">p2</span>
<span class="linenos">39</span><span class="n">n</span>      <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">2</span>
<span class="linenos">40</span><span class="n">Kappa</span> <span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">1</span>
<span class="linenos">41</span><span class="n">Occup</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">2</span>
<span class="linenos">42</span><span class="n">Valen</span>  <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">1</span>
<span class="linenos">43</span><span class="n">C</span>
<span class="linenos">44</span><span class="n">Iz</span><span class="o">=</span>   <span class="mi">6</span> <span class="n">Norb</span><span class="o">=</span>  <span class="mi">3</span> <span class="n">Ion</span><span class="o">=</span>  <span class="mi">0</span> <span class="n">Config</span><span class="o">=</span> <span class="mi">2</span><span class="n">s2</span> <span class="mi">2</span><span class="n">p2</span>
<span class="linenos">45</span><span class="n">n</span>      <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">2</span>
<span class="linenos">46</span><span class="n">Kappa</span> <span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">1</span>
<span class="linenos">47</span><span class="n">Occup</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">2</span>
<span class="linenos">48</span><span class="n">Valen</span>  <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">1</span>
<span class="linenos">49</span><span class="n">Em</span>
<span class="linenos">50</span><span class="n">Iz</span><span class="o">=</span>   <span class="mi">0</span> <span class="n">Norb</span><span class="o">=</span>  <span class="mi">0</span> <span class="n">Ion</span><span class="o">=</span>  <span class="mi">0</span> <span class="n">Config</span><span class="o">=</span> <span class="mi">1</span><span class="n">s0</span>
<span class="linenos">51</span><span class="n">n</span>      <span class="mi">1</span>
<span class="linenos">52</span><span class="n">Kappa</span> <span class="o">-</span><span class="mi">1</span>
<span class="linenos">53</span><span class="n">Occup</span>  <span class="mi">0</span>
<span class="linenos">54</span><span class="n">Valen</span>  <span class="mi">1</span>
<span class="linenos">55</span><span class="n">Em</span>
<span class="linenos">56</span><span class="n">Iz</span><span class="o">=</span>   <span class="mi">0</span> <span class="n">Norb</span><span class="o">=</span>  <span class="mi">0</span> <span class="n">Ion</span><span class="o">=</span>  <span class="mi">0</span> <span class="n">Config</span><span class="o">=</span> <span class="mi">1</span><span class="n">s0</span>
<span class="linenos">57</span><span class="n">n</span>      <span class="mi">1</span>
<span class="linenos">58</span><span class="n">Kappa</span> <span class="o">-</span><span class="mi">1</span>
<span class="linenos">59</span><span class="n">Occup</span>  <span class="mi">0</span>
<span class="linenos">60</span><span class="n">Valen</span>  <span class="mi">1</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Em</span></code>: empty sites</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CRT..=</span>&#160; <span class="pre">I</span></code></p></li>
<li><p>kstr: <code class="docutils literal notranslate"><span class="pre">NL.....=</span> <span class="pre">3</span></code></p></li>
</ul>
<p><a class="reference external" href="https://www.google.com/search?q=diamond+lattice+constant"> Lattice constants for diamond </a> ?</p>
<p>Convert to SWS ?</p>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<p>diamond structure in cubic conventional cells contains 8 atoms, we add extra 8 emtpy sites:</p>
<div class="math notranslate nohighlight">
\[16\times \frac{4\pi}{3} \omega^3 = a^3\]</div>
</div>
<section id="eqation-of-state-for-diamond">
<h4>Eqation of state for diamond<a class="headerlink" href="#eqation-of-state-for-diamond" title="Link to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="ch">#! /bin/bash</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span>mkdir<span class="w"> </span>-vp<span class="w"> </span>diamond/kgrn/<span class="o">{</span>chd,pot<span class="o">}</span>
<span class="linenos"> 4</span>mkdir<span class="w"> </span>-vp<span class="w"> </span>diamond/kfcd/
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="nb">cd</span><span class="w"> </span>diamond
<span class="linenos"> 7</span>ln<span class="w"> </span>-s<span class="w"> </span>../kstr
<span class="linenos"> 8</span>ln<span class="w"> </span>-s<span class="w"> </span>../shape
<span class="linenos"> 9</span>ln<span class="w"> </span>-s<span class="w"> </span>../bmdl
<span class="linenos">10</span><span class="nb">cd</span><span class="w"> </span>-
<span class="linenos">11</span>
<span class="linenos">12</span><span class="k">for</span><span class="w"> </span>sws<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="sb">`</span>seq<span class="w"> </span><span class="m">1</span>.60<span class="w"> </span><span class="m">0</span>.02<span class="w"> </span><span class="m">1</span>.70<span class="sb">`</span>
<span class="linenos">13</span><span class="k">do</span>
<span class="linenos">14</span><span class="w">  </span>sed<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;s/JOBNAM=.*/JOBNAM=c_</span><span class="si">${</span><span class="nv">sws</span><span class="si">}</span><span class="s2">/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="linenos">15</span><span class="w">      </span>-e<span class="w"> </span><span class="s2">&quot;s/SWS......=......../SWS......=</span><span class="si">${</span><span class="nv">sws</span><span class="si">}</span><span class="s2">0000/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="linenos">16</span><span class="w">      </span>kgrn/c.dat<span class="w"> </span>&gt;<span class="w"> </span>diamond/kgrn/c_<span class="si">${</span><span class="nv">sws</span><span class="si">}</span>.dat
<span class="linenos">17</span>
<span class="linenos">18</span><span class="w">  </span>sed<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;s/JOBNAM...=.*/JOBNAM...=c_</span><span class="si">${</span><span class="nv">sws</span><span class="si">}</span><span class="s2">/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="linenos">19</span><span class="w">      </span>kfcd/c.dat<span class="w"> </span>&gt;<span class="w"> </span>diamond/kfcd/c_<span class="si">${</span><span class="nv">sws</span><span class="si">}</span>.dat
<span class="linenos">20</span><span class="k">done</span>
</pre></div>
</div>
</section>
<section id="maybe-heusler-alloy">
<h4>Maybe Heusler Alloy ?<a class="headerlink" href="#maybe-heusler-alloy" title="Link to this heading"></a></h4>
</section>
</section>
</div>
</section>
<section id="see-also">
<h2>See also<a class="headerlink" href="#see-also" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>EMTO <a class="reference external" href="https://emto.gitlab.io">website</a></p></li>
<li><p>EMTO <a class="reference external" href="https://emto.gitlab.io/manual/manual.html">Manual</a></p></li>
<li><p>Book by Prof. Levente Vitos: <a class="reference external" href="https://link.springer.com/book/10.1007/978-1-84628-951-4">Computational Quantum Mechanics for Materials Engineers</a></p></li>
</ul>
</section>
<section id="credits">
<h2>Credits<a class="headerlink" href="#credits" title="Link to this heading"></a></h2>
<p>The lesson file structure and browsing layout is inspired by and derived from
<a class="reference external" href="https://github.com/coderefinery/sphinx-lesson">work</a> by <a class="reference external" href="https://coderefinery.org/">CodeRefinery</a> licensed under the <a class="reference external" href="http://opensource.org/licenses/mit-license.html">MIT license</a>. We have copied and adapted
most of their license text.</p>
<p>Use of EMTO code should follow the EMTO license (<a class="reference external" href="https://emto.gitlab.io/license.html">https://emto.gitlab.io/license.html</a>):</p>
<ul class="simple">
<li><p><strong>NO WARRANTY</strong>: We are not responsible for any damage, defect or loss incurred as a result of operating the software.</p></li>
<li><p>Only <strong>non-commercial</strong> use allowed.</p></li>
<li><p><strong>CANNOT</strong> redistribute source-code or its executable binaries.</p></li>
<li><p>Can modify source-code but <strong>CANNOT</strong> redistribute modifications (derivative works, include its executable binaries).</p></li>
<li><p>Parts of the software are provided under separate licenses, as follows:</p>
<ul>
<li><p>BLAS routines under the BLAS License (<a class="reference external" href="http://www.netlib.org/blas/#_licensing">http://www.netlib.org/blas/#_licensing</a>)</p></li>
<li><p>LAPACK routines under the modified BSD license (<a class="reference external" href="http://www.netlib.org/lapack/LICENSE.txt">http://www.netlib.org/lapack/LICENSE.txt</a>)</p></li>
</ul>
</li>
</ul>
<section id="instructional-material">
<h3>Instructional Material<a class="headerlink" href="#instructional-material" title="Link to this heading"></a></h3>
<p>This instructional material is made available under the
<a class="reference external" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution license (CC-BY-4.0)</a>.
The following is a human-readable summary of (and not a substitute for) the
<a class="reference external" href="https://creativecommons.org/licenses/by/4.0/legalcode">full legal text of the CC-BY-4.0 license</a>.
You are free to:</p>
<ul class="simple">
<li><p><strong>share</strong> - copy and redistribute the material in any medium or format</p></li>
<li><p><strong>adapt</strong> - remix, transform, and build upon the material for any purpose,
even commercially.</p></li>
</ul>
<p>The licensor cannot revoke these freedoms as long as you follow these license terms:</p>
<ul class="simple">
<li><p><strong>Attribution</strong> - You must give appropriate credit (mentioning that your work
is derived from work that is Copyright (c) ENCCS and individual contributors and, where practical, linking
to <a class="reference external" href="https://enccs.github.io/sphinx-lesson-template">https://enccs.github.io/sphinx-lesson-template</a>), provide a <a class="reference external" href="https://creativecommons.org/licenses/by/4.0/">link to the license</a>, and indicate if changes were
made. You may do so in any reasonable manner, but not in any way that suggests
the licensor endorses you or your use.</p></li>
<li><p><strong>No additional restrictions</strong> - You may not apply legal terms or
technological measures that legally restrict others from doing anything the
license permits.</p></li>
</ul>
<p>With the understanding that:</p>
<ul class="simple">
<li><p>You do not have to comply with the license for elements of the material in
the public domain or where your use is permitted by an applicable exception
or limitation.</p></li>
<li><p>No warranties are given. The license may not give you all of the permissions
necessary for your intended use. For example, other rights such as
publicity, privacy, or moral rights may limit how you use the material.</p></li>
</ul>
</section>
<section id="software">
<h3>Software<a class="headerlink" href="#software" title="Link to this heading"></a></h3>
<p>Except where otherwise noted, the example programs and other software provided
with this repository are made available under the <a class="reference external" href="http://opensource.org/">OSI</a>-approved
<a class="reference external" href="https://opensource.org/licenses/mit-license.html">MIT license</a>.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, The contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>