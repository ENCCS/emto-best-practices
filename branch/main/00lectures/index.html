<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EMTO leture &mdash; EMTO workshop  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx_lesson.css?v=0c089442" />
      <link rel="stylesheet" type="text/css" href="../_static/term_role_formatting.css?v=4194e21c" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx_rtd_theme_ext_color_contrast.css?v=8e8ea19f" />
      <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../_static/overrides.css?v=0572569b" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=187304be"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script src="../_static/minipres.js?v=a0d29692"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script data-domain="enccs.github.io/emto-best-practices" defer="defer" src="https://plausible.io/js/script.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="exercise/01: 4 sites conventional fcc cell for Cu" href="../exercise/solutions/01/readme/" />
    <link rel="prev" title="quick setup for this workshop" href="../quickstart/" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../" class="icon icon-home">
            EMTO workshop
              <img src="../_static/ENCCS.jpg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">EMTO lectures</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart/">quick setup for this workshop</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">EMTO leture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-emto-method-fundamentals-implementation-and-demonstration">The EMTO Method Fundamentals, Implementation and Demonstration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#basic-about-how-to-run-emto-code">Basic About How to Run EMTO Code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#running-dependence-of-emto-subprograms">Running dependence of EMTO subprograms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#exercise-00">exercise/00</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kstr">KSTR</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bmdl">BMDL</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shape">SHAPE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kgrn">KGRN</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Hands-on examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../exercise/solutions/01/readme/">exercise/01: 4 sites conventional fcc cell for Cu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercise/solutions/02/readme/">exercise/02: equilibrium volume for fcc Cu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercise/solutions/03/readme/">exercise/03: elastic constance calculation for fcc Cu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercise/solutions/04/readme/">exercise/04: Mixing enthalpy for bcc FeCrx alloy: FM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercise/solutions/05/readme/">exercise/05: Mixing enthalpy for bcc FeCrx alloy: PM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercise/solutions/06/readme/">exercise/06 diamond</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../">EMTO workshop</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">EMTO leture</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ENCCS/emto-best-practices/blob/main/content/00lectures.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="emto-leture">
<h1>EMTO leture<a class="headerlink" href="#emto-leture" title="Link to this heading"></a></h1>
<section id="the-emto-method-fundamentals-implementation-and-demonstration">
<h2>The EMTO Method Fundamentals, Implementation and Demonstration<a class="headerlink" href="#the-emto-method-fundamentals-implementation-and-demonstration" title="Link to this heading"></a></h2>
<p><a class="reference download internal" download="" href="../_downloads/17df43361fca85c80555bf2f7bf564d9/ENCCS2024.04.16.pdf"><code class="xref download docutils literal notranslate"><span class="pre">by</span> <span class="pre">Prof.</span> <span class="pre">Levente</span> <span class="pre">Vitos</span></code></a></p>
</section>
<section id="basic-about-how-to-run-emto-code">
<h2>Basic About How to Run EMTO Code<a class="headerlink" href="#basic-about-how-to-run-emto-code" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>exe</p></th>
<th class="head"><p>function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bmdl</p></td>
<td><p>Calculates the Madelung potentials</p></td>
</tr>
<tr class="row-odd"><td><p>kstr</p></td>
<td><p>Computes the energy dependent slope matrix in real space.</p></td>
</tr>
<tr class="row-even"><td><p>shape</p></td>
<td><p>Computes the so called shape function, which transforms any integral over the unit cell into an integral over a sphere surrounding the unit cell.</p></td>
</tr>
<tr class="row-odd"><td><p>kgrn_cpa</p></td>
<td><p>Solves the actual self-consistent Kohn-Sham equations And calculate the Full charge density</p></td>
</tr>
<tr class="row-even"><td><p>kfcd_cpa</p></td>
<td><p>Evaluate the total energy functional from the full charge density generated by kgrn</p></td>
</tr>
</tbody>
</table>
<section id="running-dependence-of-emto-subprograms">
<h3>Running dependence of EMTO subprograms<a class="headerlink" href="#running-dependence-of-emto-subprograms" title="Link to this heading"></a></h3>
<a class="reference internal image-reference" href="../_images/001.svg"><img alt="../_images/001.svg" class="align-center" src="../_images/001.svg" style="width: 400px;" /></a>
<p>Commands to run the code looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">exe</span> <span class="o">&lt;</span> <span class="nb">input</span>
</pre></div>
</div>
<section id="exercise-00">
<h4>exercise/00<a class="headerlink" href="#exercise-00" title="Link to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tree<span class="w"> </span><span class="m">00</span>
<span class="m">00</span>
├──<span class="w"> </span>bmdl
│<span class="w">   </span>└──<span class="w"> </span>fcc.dat
├──<span class="w"> </span>kfcd
│<span class="w">   </span>└──<span class="w"> </span>cu.dat
├──<span class="w"> </span>kgrn
│<span class="w">   </span>└──<span class="w"> </span>cu.dat
├──<span class="w"> </span>kstr
│<span class="w">   </span>└──<span class="w"> </span>fcc.dat
└──<span class="w"> </span>shape
<span class="w">    </span>└──<span class="w"> </span>fcc.dat

<span class="m">6</span><span class="w"> </span>directories,<span class="w"> </span><span class="m">5</span><span class="w"> </span>files
</pre></div>
</div>
<ul>
<li><p>please try to run these “dat” file as input for each “exe” inside its folder.
for example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="m">00</span>/bmdl
bmdl<span class="w"> </span>&lt;<span class="w"> </span>fcc.dat
</pre></div>
</div>
<p>there will be errors, so what should we do ?</p>
<div class="dropdown admonition hint">
<p class="admonition-title">Hint</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>mdl
bmdl<span class="w"> </span>&lt;<span class="w"> </span>fcc.dat
</pre></div>
</div>
</div>
</li>
</ul>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>EMTO input files have very strict format, an extra space may cause some problems.</p>
</div>
</section>
<section id="kstr">
<h4>KSTR<a class="headerlink" href="#kstr" title="Link to this heading"></a></h4>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">The input file (kstr/fcc.dat)</span><a class="headerlink" href="#id1" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">KSTR</span>      <span class="n">HP</span><span class="o">......=</span><span class="n">N</span>                               <span class="mi">22</span> <span class="n">Jan</span> <span class="mi">08</span>
<span class="hll"><span class="linenos"> 2</span><span class="n">JOBNAM</span><span class="o">...=</span><span class="n">fcc</span>        <span class="n">MSGL</span><span class="o">.=</span>  <span class="mi">0</span> <span class="n">MODE</span><span class="o">...=</span><span class="n">B</span> <span class="n">STORE</span><span class="o">..=</span><span class="n">Y</span> <span class="n">HIGH</span><span class="o">...=</span><span class="n">Y</span>
</span><span class="hll"><span class="linenos"> 3</span><span class="n">DIR001</span><span class="o">=</span><span class="n">smx</span><span class="o">/</span>
</span><span class="hll"><span class="linenos"> 4</span><span class="n">DIR006</span><span class="o">=./</span>
</span><span class="linenos"> 5</span><span class="n">Slope</span> <span class="n">matrices</span><span class="p">,</span> <span class="n">fcc</span> <span class="p">(</span><span class="n">spdf</span><span class="p">),</span> <span class="p">(</span><span class="n">kappa</span><span class="o">*</span><span class="n">w</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">=</span> <span class="mf">0.0</span>
<span class="linenos"> 6</span><span class="n">NL</span><span class="o">.....=</span> <span class="mi">4</span> <span class="n">NLH</span><span class="o">...=</span><span class="mi">11</span> <span class="n">NLW</span><span class="o">...=</span> <span class="mi">9</span> <span class="n">NDER</span><span class="o">..=</span> <span class="mi">6</span> <span class="n">ITRANS</span><span class="o">=</span> <span class="mi">3</span> <span class="n">NPRN</span><span class="o">..=</span> <span class="mi">0</span>
<span class="linenos"> 7</span><span class="p">(</span><span class="n">K</span><span class="o">*</span><span class="n">W</span><span class="p">)</span><span class="o">^</span><span class="mf">2.</span><span class="o">.=</span>  <span class="mf">0.000000</span> <span class="n">DMAX</span><span class="o">....=</span>    <span class="mf">1.7000</span> <span class="n">RWATS</span><span class="o">...=</span>      <span class="mf">0.10</span>
<span class="hll"><span class="linenos"> 8</span><span class="n">NQ3</span><span class="o">...=</span>  <span class="mi">1</span> <span class="n">LAT</span><span class="o">...=</span> <span class="mi">2</span> <span class="n">IPRIM</span><span class="o">.=</span> <span class="mi">0</span> <span class="n">NGHBP</span><span class="o">.=</span><span class="mi">13</span> <span class="n">NQR2</span><span class="o">..=</span> <span class="mi">0</span>
</span><span class="hll"><span class="linenos"> 9</span><span class="n">A</span><span class="o">........=</span> <span class="mf">1.0000000</span> <span class="n">B</span><span class="o">.......=</span> <span class="mf">1.0000000</span> <span class="n">C</span><span class="o">.......=</span> <span class="mf">1.0000000</span>
</span><span class="linenos">10</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.5000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.5000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.0000000</span>
<span class="linenos">11</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.0000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.5000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.5000000</span>
<span class="linenos">12</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.5000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.0000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.5000000</span>
<span class="hll"><span class="linenos">13</span><span class="n">QX</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">...=</span> <span class="mf">0.0000000</span> <span class="n">QY</span><span class="o">......=</span> <span class="mf">0.0000000</span> <span class="n">QZ</span><span class="o">......=</span> <span class="mf">0.0000000</span>
</span><span class="linenos">14</span><span class="n">a</span><span class="o">/</span><span class="n">w</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">..=</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span> <span class="mf">0.70</span>
<span class="linenos">15</span><span class="n">LAMDA</span><span class="o">....=</span>    <span class="mf">2.5000</span> <span class="n">AMAX</span><span class="o">....=</span>    <span class="mf">4.5000</span> <span class="n">BMAX</span><span class="o">....=</span>    <span class="mf">4.5000</span>
</pre></div>
</div>
</div>
<p>A part of the input file of <code class="docutils literal notranslate"><span class="pre">kstr</span></code> describes the lattice informations:</p>
<ul class="simple">
<li><p>Total number of sites is set by NQ3.</p></li>
<li><p>The symmetry is set by <code class="docutils literal notranslate"><span class="pre">LAT</span></code>, more in the <a class="reference external" href="https://emto.gitlab.io/manual/manual.html#kstr">online manual</a>.</p></li>
<li><p>The lattice parameters are renormalized to the length of first lattice vector A (<code class="docutils literal notranslate"><span class="pre">A=1</span></code>).</p></li>
<li><p><strong>Cartesian Coordinates</strong> are used for sites/”atom” with <code class="docutils literal notranslate"><span class="pre">QX,QY,QZ</span></code>.</p></li>
</ul>
<p>Commands for run the <code class="docutils literal notranslate"><span class="pre">kstr</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kstr</span> <span class="o">&lt;</span> <span class="n">fcc</span><span class="o">.</span><span class="n">dat</span>
</pre></div>
</div>
<p>Or add <code class="docutils literal notranslate"><span class="pre">time</span></code> in front to have a feeling about the how much time each code consumes:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">time</span><span class="w"> </span>kstr<span class="w"> </span>&lt;<span class="w"> </span>fcc.dat
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DIR006=./</span></code> and <code class="docutils literal notranslate"><span class="pre">JOBNAM...=fcc</span></code>: a file <code class="docutils literal notranslate"><span class="pre">fcc.prn</span></code> will be generated in the current directory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DIR001=smx</span></code>: “slop matrix” will save to <code class="docutils literal notranslate"><span class="pre">smx/fcc.tfh</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MSGL.=</span>&#160; <span class="pre">0</span></code> could silence the screen printing.</p></li>
</ul>
</section>
<section id="bmdl">
<h4>BMDL<a class="headerlink" href="#bmdl" title="Link to this heading"></a></h4>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">The input file (bmdl/fcc.dat)</span><a class="headerlink" href="#id2" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">BMDL</span>      <span class="n">HP</span><span class="o">......=</span><span class="n">N</span>                               <span class="mi">22</span> <span class="n">Jan</span> <span class="mi">08</span>
<span class="hll"><span class="linenos"> 2</span><span class="n">JOBNAM</span><span class="o">...=</span><span class="n">fcc</span>        <span class="n">MSGL</span><span class="o">.=</span>  <span class="mi">1</span> <span class="n">NPRN</span><span class="o">.=</span>  <span class="mi">0</span>
</span><span class="hll"><span class="linenos"> 3</span><span class="n">DIR001</span><span class="o">=</span><span class="n">mdl</span><span class="o">/</span>
</span><span class="linenos"> 4</span><span class="n">DIR006</span><span class="o">=</span>
<span class="linenos"> 5</span><span class="n">Madelung</span> <span class="n">potential</span> <span class="k">for</span> <span class="n">fcc</span> <span class="n">bulk</span>
<span class="linenos"> 6</span><span class="n">NL</span><span class="o">.....=</span> <span class="mi">7</span>
<span class="linenos"> 7</span><span class="n">LAMDA</span><span class="o">....=</span>      <span class="mf">2.50</span> <span class="n">AMAX</span><span class="o">....=</span>      <span class="mf">4.50</span> <span class="n">BMAX</span><span class="o">....=</span>      <span class="mf">4.50</span>
<span class="hll"><span class="linenos"> 8</span><span class="n">NQ</span><span class="o">....=</span>  <span class="mi">1</span> <span class="n">LAT</span><span class="o">...=</span> <span class="mi">2</span> <span class="n">IPRIM</span><span class="o">.=</span> <span class="mi">0</span> <span class="n">NQR2</span><span class="o">..=</span> <span class="mi">0</span>
</span><span class="hll"><span class="linenos"> 9</span><span class="n">A</span><span class="o">........=</span> <span class="mf">1.0000000</span> <span class="n">B</span><span class="o">.......=</span> <span class="mf">1.0000000</span> <span class="n">C</span><span class="o">.......=</span> <span class="mf">1.0000000</span>
</span><span class="hll"><span class="linenos">10</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.5000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.5000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.0000000</span>
</span><span class="hll"><span class="linenos">11</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.0000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.5000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.5000000</span>
</span><span class="hll"><span class="linenos">12</span><span class="n">BSX</span><span class="o">......=</span> <span class="mf">0.5000000</span> <span class="n">BSY</span><span class="o">.....=</span> <span class="mf">0.0000000</span> <span class="n">BSZ</span><span class="o">.....=</span> <span class="mf">0.5000000</span>
</span><span class="hll"><span class="linenos">13</span><span class="n">QX</span><span class="p">(</span><span class="n">IQ</span><span class="p">)</span><span class="o">...=</span> <span class="mf">0.0000000</span> <span class="n">QY</span><span class="o">......=</span> <span class="mf">0.0000000</span> <span class="n">QZ</span><span class="o">......=</span> <span class="mf">0.0000000</span>
</span></pre></div>
</div>
</div>
<p>The Lattice information must be consistent with <code class="docutils literal notranslate"><span class="pre">kstr</span></code>, and the output files will be <code class="docutils literal notranslate"><span class="pre">./fcc.prn</span></code> and <code class="docutils literal notranslate"><span class="pre">mdl/fcc.mdl</span></code></p>
</section>
<section id="shape">
<h4>SHAPE<a class="headerlink" href="#shape" title="Link to this heading"></a></h4>
<p>The input file (shape/fcc.dat) for <code class="docutils literal notranslate"><span class="pre">bmdl</span></code> contains similar lattice information as <code class="docutils literal notranslate"><span class="pre">kstr</span></code>:</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">The input file (shape/fcc.dat)</span><a class="headerlink" href="#id3" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">SHAPE</span>     <span class="n">HP</span><span class="o">......=</span><span class="n">N</span>                             <span class="mi">22</span> <span class="n">Jan</span> <span class="mi">08</span>
<span class="hll"><span class="linenos">2</span><span class="n">JOBNAM</span><span class="o">...=</span><span class="n">fcc</span>        <span class="n">MSGL</span><span class="o">.=</span>  <span class="mi">0</span>
</span><span class="hll"><span class="linenos">3</span><span class="n">FOR001</span><span class="o">=../</span><span class="n">kstr</span><span class="o">/</span><span class="n">smx</span><span class="o">/</span><span class="n">fcc</span><span class="o">.</span><span class="n">tfh</span>
</span><span class="hll"><span class="linenos">4</span><span class="n">DIR002</span><span class="o">=</span><span class="n">shp</span><span class="o">/</span>
</span><span class="linenos">5</span><span class="n">DIR006</span><span class="o">=./</span>
<span class="linenos">6</span><span class="n">Lmax</span><span class="o">..=</span> <span class="mi">30</span> <span class="n">NSR</span><span class="o">..=</span><span class="mi">129</span> <span class="n">NFI</span><span class="o">..=</span> <span class="mi">11</span>
<span class="linenos">7</span><span class="n">NPRN</span><span class="o">..=</span>  <span class="mi">0</span> <span class="n">IVEF</span><span class="o">.=</span>  <span class="mi">3</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">FOR001=../kstr/smx/fcc.tfh</span></code> shows <code class="docutils literal notranslate"><span class="pre">shape</span></code> will need the “slop matrix” from the result of <code class="docutils literal notranslate"><span class="pre">kstr</span></code>.
The output will be <code class="docutils literal notranslate"><span class="pre">shp/fcc.shp</span></code>.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p><code class="docutils literal notranslate"><span class="pre">kstr,bmdl</span></code> and <code class="docutils literal notranslate"><span class="pre">shape</span></code> only contains lattice information with a reduced unit,
They could be reused for any system which present with same lattice setup.</p>
</div>
</section>
<section id="kgrn">
<h4>KGRN<a class="headerlink" href="#kgrn" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">KGRN</span>                                               <span class="mi">13</span> <span class="n">Oct</span> <span class="mi">12</span>
<span class="hll"><span class="linenos"> 2</span><span class="n">JOBNAM</span><span class="o">=</span><span class="n">cu</span> 
</span><span class="linenos"> 3</span><span class="n">STRT</span><span class="o">..=</span>  <span class="n">A</span> <span class="n">MSGL</span><span class="o">.=</span>  <span class="mi">0</span> <span class="n">EXPAN</span><span class="o">.=</span> <span class="n">S</span> <span class="n">FCD</span><span class="o">..=</span>  <span class="n">Y</span> <span class="n">FUNC</span><span class="o">..=</span> <span class="n">SCA</span>
<span class="hll"><span class="linenos"> 4</span><span class="n">FOR001</span><span class="o">=../</span><span class="n">kstr</span><span class="o">/</span><span class="n">smx</span><span class="o">/</span><span class="n">fcc</span><span class="o">.</span><span class="n">tfh</span>
</span><span class="linenos"> 5</span><span class="n">FOR001</span><span class="o">=../</span><span class="n">kstr</span><span class="o">/</span><span class="n">smx</span><span class="o">/</span><span class="n">fcc30</span><span class="o">.</span><span class="n">tfh</span>
<span class="linenos"> 6</span><span class="n">DIR002</span><span class="o">=</span><span class="n">pot</span><span class="o">/</span>
<span class="linenos"> 7</span><span class="n">DIR003</span><span class="o">=</span><span class="n">pot</span><span class="o">/</span>
<span class="hll"><span class="linenos"> 8</span><span class="n">FOR004</span><span class="o">=../</span><span class="n">bmdl</span><span class="o">/</span><span class="n">mdl</span><span class="o">/</span><span class="n">fcc</span><span class="o">.</span><span class="n">mdl</span>
</span><span class="linenos"> 9</span><span class="n">DIR006</span><span class="o">=</span>
<span class="hll"><span class="linenos">10</span><span class="n">DIR009</span><span class="o">=</span><span class="n">pot</span><span class="o">/</span>
</span><span class="linenos">11</span><span class="n">DIR010</span><span class="o">=</span><span class="n">chd</span><span class="o">/</span>
<span class="linenos">12</span><span class="n">DIR011</span><span class="o">=/</span><span class="n">tmp</span><span class="o">/</span>
<span class="linenos">13</span><span class="n">Self</span><span class="o">-</span><span class="n">consistent</span> <span class="n">KKR</span> <span class="n">calculation</span> <span class="k">for</span> <span class="n">fcc</span> <span class="n">Cu</span>
<span class="linenos">14</span><span class="n">Band</span><span class="p">:</span> <span class="mi">10</span> <span class="n">lines</span>
<span class="linenos">15</span><span class="n">NITER</span><span class="o">.=</span> <span class="mi">50</span> <span class="n">NLIN</span><span class="o">.=</span> <span class="mi">31</span> <span class="n">NPRN</span><span class="o">.=</span>  <span class="mi">0</span> <span class="n">NCPA</span><span class="o">.=</span>  <span class="mi">7</span> <span class="n">NT</span><span class="o">...=</span>  <span class="mi">1</span> <span class="n">MNTA</span><span class="o">.=</span>  <span class="mi">1</span>
<span class="linenos">16</span><span class="n">MODE</span><span class="o">..=</span> <span class="mi">3</span><span class="n">D</span> <span class="n">FRC</span><span class="o">..=</span>  <span class="n">N</span> <span class="n">DOS</span><span class="o">..=</span>  <span class="n">N</span> <span class="n">OPS</span><span class="o">..=</span>  <span class="n">N</span> <span class="n">AFM</span><span class="o">..=</span>  <span class="n">P</span> <span class="n">CRT</span><span class="o">..=</span>  <span class="n">M</span>
<span class="linenos">17</span><span class="n">Lmaxh</span><span class="o">.=</span>  <span class="mi">8</span> <span class="n">Lmaxt</span><span class="o">=</span>  <span class="mi">4</span> <span class="n">NFI</span><span class="o">..=</span> <span class="mi">31</span> <span class="n">FIXG</span><span class="o">.=</span>  <span class="mi">2</span> <span class="n">SHF</span><span class="o">..=</span>  <span class="mi">0</span> <span class="n">SOFC</span><span class="o">.=</span>  <span class="n">N</span>
<span class="linenos">18</span><span class="n">KMSH</span><span class="o">...=</span> <span class="n">G</span> <span class="n">IBZ</span><span class="o">..=</span>  <span class="mi">2</span> <span class="n">NKX</span><span class="o">..=</span>  <span class="mi">0</span> <span class="n">NKY</span><span class="o">..=</span> <span class="mi">13</span> <span class="n">NKZ</span><span class="o">..=</span>  <span class="mi">0</span> <span class="n">FBZ</span><span class="o">..=</span>  <span class="n">N</span>
<span class="linenos">19</span><span class="n">KMSH2</span><span class="o">..=</span> <span class="n">G</span> <span class="n">IBZ2</span><span class="o">.=</span>  <span class="mi">1</span> <span class="n">NKX2</span><span class="o">.=</span>  <span class="mi">4</span> <span class="n">NKY2</span><span class="o">.=</span>  <span class="mi">0</span> <span class="n">NKZ2</span><span class="o">.=</span> <span class="mi">51</span>
<span class="linenos">20</span><span class="n">ZMSH</span><span class="o">...=</span> <span class="n">C</span> <span class="n">NZ1</span><span class="o">..=</span> <span class="mi">16</span> <span class="n">NZ2</span><span class="o">..=</span>  <span class="mi">8</span> <span class="n">NZ3</span><span class="o">..=</span>  <span class="mi">8</span> <span class="n">NRES</span><span class="o">.=</span>  <span class="mi">4</span> <span class="n">NZD</span><span class="o">.=</span><span class="mi">1500</span>
<span class="linenos">21</span><span class="n">DEPTH</span><span class="o">..=</span>  <span class="mf">1.000</span> <span class="n">IMAGZ</span><span class="o">.=</span>  <span class="mf">0.020</span> <span class="n">EPS</span><span class="o">...=</span>  <span class="mf">0.200</span> <span class="n">ELIM</span><span class="o">..=</span> <span class="o">-</span><span class="mf">1.000</span>
<span class="linenos">22</span><span class="n">AMIX</span><span class="o">...=</span>  <span class="mf">0.100</span> <span class="n">EFMIX</span><span class="o">.=</span>  <span class="mf">1.000</span> <span class="n">VMTZ</span><span class="o">..=</span>  <span class="mf">0.000</span> <span class="n">MMOM</span><span class="o">..=</span>  <span class="mf">0.000</span>
<span class="linenos">23</span><span class="n">TOLE</span><span class="o">...=</span> <span class="mf">1.</span><span class="n">d</span><span class="o">-</span><span class="mi">07</span> <span class="n">TOLEF</span><span class="o">.=</span> <span class="mf">1.</span><span class="n">d</span><span class="o">-</span><span class="mi">07</span> <span class="n">TOLCPA</span><span class="o">=</span> <span class="mf">1.</span><span class="n">d</span><span class="o">-</span><span class="mi">06</span> <span class="n">TFERMI</span><span class="o">=</span>  <span class="mf">500.0</span> <span class="p">(</span><span class="n">K</span><span class="p">)</span>
<span class="hll"><span class="linenos">24</span><span class="n">SWS</span><span class="o">......=</span><span class="mf">2.686842</span>   <span class="n">NSWS</span><span class="o">.=</span>  <span class="mi">1</span> <span class="n">DSWS</span><span class="o">..=</span>   <span class="mf">0.05</span> <span class="n">ALPCPA</span><span class="o">=</span> <span class="mf">0.6020</span>
</span><span class="linenos">25</span><span class="n">Setup</span><span class="p">:</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">NQ</span><span class="o">*</span><span class="n">NS</span> <span class="n">lines</span>
<span class="hll"><span class="linenos">26</span><span class="n">EFGS</span><span class="o">...=</span>  <span class="mf">0.000</span> <span class="n">HX</span><span class="o">....=</span>  <span class="mf">0.100</span> <span class="n">NX</span><span class="o">...=</span>  <span class="mi">5</span> <span class="n">NZ0</span><span class="o">..=</span>  <span class="mi">6</span> <span class="n">STMP</span><span class="o">..=</span> <span class="n">N</span>
</span><span class="linenos">27</span><span class="n">Symb</span>   <span class="n">IQ</span> <span class="n">IT</span> <span class="n">ITA</span> <span class="n">NZ</span>  <span class="n">CONC</span>   <span class="n">Sm</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>  <span class="n">S</span><span class="p">(</span><span class="n">ws</span><span class="p">)</span> <span class="n">WS</span><span class="p">(</span><span class="n">wst</span><span class="p">)</span> <span class="n">QTR</span> <span class="n">SPLT</span> <span class="n">Fix</span>
<span class="linenos">28</span><span class="n">Cu</span>      <span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">29</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">1.000</span>  <span class="mf">0.0</span>  <span class="mf">0.0</span>  <span class="n">N</span>
<span class="linenos">29</span><span class="n">Atom</span><span class="p">:</span>  <span class="mi">4</span> <span class="n">lines</span> <span class="o">+</span> <span class="n">NT</span><span class="o">*</span><span class="n">NTA</span><span class="o">*</span><span class="mi">6</span> <span class="n">lines</span>
<span class="linenos">30</span><span class="n">IEX</span><span class="o">...=</span>  <span class="mi">4</span> <span class="n">NP</span><span class="o">..=</span> <span class="mi">251</span> <span class="n">NES</span><span class="o">..=</span> <span class="mi">15</span> <span class="n">NITER</span><span class="o">=</span><span class="mi">100</span> <span class="n">IWAT</span><span class="o">.=</span>  <span class="mi">0</span> <span class="n">NPRNA</span><span class="o">=</span>  <span class="mi">0</span>
<span class="linenos">31</span><span class="n">VMIX</span><span class="o">.....=</span>  <span class="mf">0.300000</span> <span class="n">RWAT</span><span class="o">....=</span>  <span class="mf">3.500000</span> <span class="n">RMAX</span><span class="o">....=</span> <span class="mf">20.000000</span>
<span class="linenos">32</span><span class="n">DX</span><span class="o">.......=</span>  <span class="mf">0.030000</span> <span class="n">DR1</span><span class="o">.....=</span>  <span class="mf">0.002000</span> <span class="n">TEST</span><span class="o">....=</span>  <span class="mf">1.00E-12</span>
<span class="linenos">33</span><span class="n">TESTE</span><span class="o">....=</span>  <span class="mf">1.00E-12</span> <span class="n">TESTY</span><span class="o">...=</span>  <span class="mf">1.00E-12</span> <span class="n">TESTV</span><span class="o">...=</span>  <span class="mf">1.00E-12</span>
<span class="linenos">34</span><span class="n">Cu</span>
<span class="linenos">35</span><span class="n">Iz</span><span class="o">=</span>  <span class="mi">29</span> <span class="n">Norb</span><span class="o">=</span> <span class="mi">10</span> <span class="n">Ion</span><span class="o">=</span>  <span class="mi">0</span> <span class="n">Config</span><span class="o">=</span> <span class="mi">3</span><span class="n">d10_4s1</span>
<span class="linenos">36</span><span class="n">n</span>      <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">3</span>  <span class="mi">4</span>
<span class="linenos">37</span><span class="n">Kappa</span> <span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">1</span> <span class="o">-</span><span class="mi">2</span> <span class="o">-</span><span class="mi">1</span>  <span class="mi">1</span> <span class="o">-</span><span class="mi">2</span>  <span class="mi">2</span> <span class="o">-</span><span class="mi">3</span> <span class="o">-</span><span class="mi">1</span>
<span class="linenos">38</span><span class="n">Occup</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">4</span>  <span class="mi">2</span>  <span class="mi">2</span>  <span class="mi">4</span>  <span class="mi">4</span>  <span class="mi">6</span>  <span class="mi">1</span>
<span class="linenos">39</span><span class="n">Valen</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">1</span>
</pre></div>
</div>
<ul>
<li><p>need <code class="docutils literal notranslate"><span class="pre">chd\</span></code> and <code class="docutils literal notranslate"><span class="pre">pot\</span></code> to be exist.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">JOBNAM=cu</span></code> will decide the output files start with <code class="docutils literal notranslate"><span class="pre">cu</span></code>: cu.prn, chd/cu.chd, pot/cu.pot …</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FOR001=../kstr/smx/fcc.tfh</span></code> and <code class="docutils literal notranslate"><span class="pre">FOR004=../bmdl/mdl/fcc.mdl</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IBZ..=</span>&#160; <span class="pre">2</span></code> should consistent with <code class="docutils literal notranslate"><span class="pre">LAT=2</span></code> in <code class="docutils literal notranslate"><span class="pre">kstr</span></code> and <code class="docutils literal notranslate"><span class="pre">bmdl</span></code> for <code class="docutils literal notranslate"><span class="pre">fcc</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NITER.=</span> <span class="pre">50</span></code>, <code class="docutils literal notranslate"><span class="pre">TOLE...=</span> <span class="pre">1.d-07</span> <span class="pre">TOLEF.=</span> <span class="pre">1.d-07</span></code>, <br />
check with <code class="docutils literal notranslate"><span class="pre">egrep</span> <span class="pre">&quot;erre|Converged|NOS|finished&quot;</span> <span class="pre">cu.prn</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AMIX...=</span>&#160; <span class="pre">0.100</span></code> mixing factor for new charge.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SWS......=2.686842</span></code>: The average Wigner-Seitz radius (bohr) to scale the lattice.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>e.g bcc lattice parameters (a) to SWS (<span class="math notranslate nohighlight">\(\omega\)</span>):</p>
<div class="math notranslate nohighlight">
\[2\times \frac{4\pi}{3} \omega^3 = a^3\]</div>
<p>units:</p>
<ul class="simple">
<li><p>length: <a class="reference external" href="https://en.wikipedia.org/wiki/Bohr_radius">Bohr</a>, 1 Bhor = 0.529177249 Angstrom</p></li>
<li><p>energy: <a class="reference external" href="https://en.wikipedia.org/wiki/Rydberg_constant#Rydberg_unit_of_energy">Rydberg</a>, 1 Ry = 13.605703976 eV</p></li>
</ul>
</div>
</li>
</ul>
<div class="math notranslate nohighlight">
\[N(\epsilon_F)=\frac{1}{2\pi i}\oint_{\epsilon_F} G(z)~dz\]</div>
<a class="reference internal image-reference" href="../_images/contour_dos.svg"><img alt="../_images/contour_dos.svg" class="align-center" src="../_images/contour_dos.svg" style="width: 800px;" /></a>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../quickstart/" class="btn btn-neutral float-left" title="quick setup for this workshop" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../exercise/solutions/01/readme/" class="btn btn-neutral float-right" title="exercise/01: 4 sites conventional fcc cell for Cu" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, The contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>